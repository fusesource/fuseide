<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Docker</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-DNS.html" title="DNS"><link rel="next" href="IDU-Dozer.html" title="Dozer"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-Docker"></a>Docker</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-Docker_HSH_DockerComponent"></a>Docker Component</h2></div></div></div><p><span class="bold"><strong>Available as of Camel 2.15</strong></span></p><p>Camel
            component for communicating with Docker.</p><p>The Docker Camel component leverages the
                <a class="link" href="https://github.com/docker-java/docker-java" target="_top">docker-java</a> via the <a class="link" href="https://docs.docker.com/reference/api/docker_remote_api" target="_top">Docker Remote
            API</a>.</p><p>Maven users will need to add the
                following dependency to their <code class="code">pom.xml</code> for this
            component:</p><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-docker&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71165"></a>URI format</h2></div></div></div><pre class="programlisting">docker://[operation]?[options]</pre><p>Where <span class="bold"><strong>operation</strong></span> is the specific action to perform on
            Docker.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71175"></a>Header Strategy</h2></div></div></div><p>All URI option can be passed as Header properties.
            Values found in a message header take precedence over URI parameters. A header property
            takes the form of a URI option prefixed with *CamelDocker* as shown below</p><table id="d0e71180"><tbody><tr>
                    <th>URI Option</th>
                    <th>Header Property</th>
                </tr><tr>
                    <td>containerId</td>
                    <td>CamelDockerContainerId</td>
                </tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71198"></a>General Options</h2></div></div></div><p>The following parameters can be used with any invocation
            of the component</p><table id="d0e71203"><tbody><tr>
                    <th>Option</th>
                    <th>Header</th>
                    <th>Description</th>
                    <th>Default Value</th>
                </tr><tr>
                    <td>host</td>
                    <td>CamelDockerHost</td>
                    <td><span class="bold"><strong>Mandatory:</strong></span> Docker host </td>
                    <td>localhost</td>
                </tr><tr>
                    <td>port</td>
                    <td>CamelDockerPort</td>
                    <td><span class="bold"><strong>Mandatory:</strong></span>Docker
                        port</td>
                    <td>2375</td>
                </tr><tr>
                    <td>username</td>
                    <td>CamelDockerUserName</td>
                    <td>User name to authenticate with</td>
                    <td> </td>
                </tr><tr>
                    <td>password</td>
                    <td>CamelDockerPassword</td>
                    <td>Password to authenticate with</td>
                    <td> </td>
                </tr><tr>
                    <td>email</td>
                    <td>CamelDockerEmail</td>
                    <td>Email address associated with the user</td>
                    <td> </td>
                </tr><tr>
                    <td>secure</td>
                    <td>CamelDockerSecure</td>
                    <td>Use HTTPS communication </td>
                    <td>false</td>
                </tr><tr>
                    <td>requestTimeout</td>
                    <td>CamelDockerRequestTimeout</td>
                    <td>Request timeout for response (in
                        seconds)</td>
                    <td>30</td>
                </tr><tr>
                    <td>certPath</td>
                    <td>CamelDockerCertPath</td>
                    <td>Location containing the SSL certificate
                        chain</td>
                    <td> </td>
                </tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71335"></a>Consumer Operations</h2></div></div></div><p>The consumer supports the following
            operations.</p><table id="d0e71340"><tbody><tr>
                    <th>Operation</th>
                    <th>Options</th>
                    <th>Description</th>
                    <th>Produces</th>
                </tr><tr>
                    <td>events</td>
                    <td>initialRange</td>
                    <td>Monitor Docker events (Streaming)</td>
                    <td>Event</td>
                </tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71370"></a>Producer Operations</h2></div></div></div><p>The following producer operations are
            available.</p><table id="d0e71375"><tbody><tr>
                    <th>Misc Operation</th>
                    <th>Options</th>
                    <th>Description</th>
                    <th>Returns</th>
                </tr><tr>
                    <td>auth</td>
                    <td> </td>
                    <td>Check auth configuration</td>
                    <td> </td>
                </tr><tr>
                    <td>info</td>
                    <td> </td>
                    <td>System wide information</td>
                    <td>Info</td>
                </tr><tr>
                    <td>ping</td>
                    <td> </td>
                    <td>Ping the Docker server</td>
                    <td> </td>
                </tr><tr>
                    <td>version</td>
                    <td> </td>
                    <td>Show the docker version information</td>
                    <td>Version</td>
                </tr></tbody></table><p></p><table id="d0e71448"><tbody><tr>
                    <th>Image Operation</th>
                    <th>Options</th>
                    <th>Description</th>
                    <th>Body Content</th>
                    <th>Returns</th>
                </tr><tr>
                    <td>image/list</td>
                    <td>filter, showAll</td>
                    <td>List images</td>
                    <td> </td>
                    <td>List&lt;Image&gt;</td>
                </tr><tr>
                    <td>image/create</td>
                    <td><span class="bold"><strong>repository</strong></span></td>
                    <td>Create an image</td>
                    <td>InputStream</td>
                    <td>CreateImageResponse</td>
                </tr><tr>
                    <td> image/build</td>
                    <td>noCache, quiet, remove, tag</td>
                    <td>Build an image from Dockerfile via stdin</td>
                    <td>InputStream or File</td>
                    <td>InputStream</td>
                </tr><tr>
                    <td>image/pull</td>
                    <td><span class="bold"><strong>repository</strong></span>,
                            registry, tag</td>
                    <td>Pull an image from the registry </td>
                    <td> </td>
                    <td>InputStream</td>
                </tr><tr>
                    <td>image/push</td>
                    <td><span class="bold"><strong>name</strong></span></td>
                    <td>Push an image on the registry</td>
                    <td> </td>
                    <td>InputStream</td>
                </tr><tr>
                    <td>image/search</td>
                    <td><span class="bold"><strong>term</strong></span></td>
                    <td>Search for images</td>
                    <td> </td>
                    <td>List&lt;SearchItem&gt;</td>
                </tr><tr>
                    <td>image/remove</td>
                    <td><span class="bold"><strong>imageId</strong></span></td>
                    <td>Remove an image</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td> image/tag </td>
                    <td><span class="bold"><strong>imageId, repository, tag,
                            force</strong></span></td>
                    <td>Tag an image into a repository</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>image/inspect</td>
                    <td><span class="bold"><strong>imageId</strong></span></td>
                    <td>Inspect an image</td>
                    <td> </td>
                    <td>InspectImageResponse</td>
                </tr></tbody></table><p></p><table id="d0e71629"><tbody><tr>
                    <th>Container Operation</th>
                    <th>Options</th>
                    <th>Description</th>
                    <th>Body Content</th>
                    <th>Returns</th>
                </tr><tr>
                    <td>container/list</td>
                    <td>showSize, showAll, before, since, limit, List
                        containers</td>
                    <td>initialRange</td>
                    <td> </td>
                    <td>List&lt;Container&gt;</td>
                </tr><tr>
                    <td>container/create</td>
                    <td><span class="bold"><strong>imageId</strong></span>, name,
                        exposedPorts, workingDir, disableNetwork, hostname, user, tty,
                        stdInOpen, stdInOnce, memoryLimit, memorySwap, cpuShares, attachStdIn,
                        attachStdOut, attachStdErr, env, cmd, dns, image,
                        volumes, volumesFrom</td>
                    <td>Create a container </td>
                    <td> </td>
                    <td>CreateContainerResponse</td>
                </tr><tr>
                    <td> container/start</td>
                    <td><p><span class="bold"><strong>containerId</strong></span>, binds,
                            links, lxcConf, portBindings, privileged, publishAllPorts, 
                            dns, dnsSearch, volumesFrom,
                                networkMode, devices, restartPolicy, capAdd,
                        capDrop</p></td>
                    <td>Start a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td> container/inspect</td>
                    <td><span class="bold"><strong>containerId</strong></span></td>
                    <td>Inspect a container </td>
                    <td> </td>
                    <td>InspectContainerResponse</td>
                </tr><tr>
                    <td> container/wait</td>
                    <td><span class="bold"><strong>containerId</strong></span></td>
                    <td>Wait a container</td>
                    <td>Integer</td>
                    <td> </td>
                </tr><tr>
                    <td>container/log</td>
                    <td><span class="bold"><strong>containerId</strong></span>, stdOut,
                        stdErr, timestamps, followStream, tailAll, tail</td>
                    <td>Get container logs </td>
                    <td> </td>
                    <td>InputStream</td>
                </tr><tr>
                    <td>container/attach</td>
                    <td><span class="bold"><strong>containerId</strong></span>, stdOut,
                        stdErr, timestamps, logs, followStream</td>
                    <td>Attach to a container</td>
                    <td> </td>
                    <td>InputStream</td>
                </tr><tr>
                    <td>container/stop</td>
                    <td><span class="bold"><strong>containerId</strong></span>, timeout</td>
                    <td>Stop a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>container/restart</td>
                    <td><span class="bold"><strong>containerId</strong></span>,
                            timeout</td>
                    <td>Restart a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>container/diff</td>
                    <td><span class="bold"><strong>containerId</strong></span></td>
                    <td>Inspect changes on a
                        container</td>
                    <td> </td>
                    <td>ChangeLog</td>
                </tr><tr>
                    <td>container/kill</td>
                    <td><span class="bold"><strong>containerId</strong></span>, signal</td>
                    <td>Kill a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>container/top</td>
                    <td><span class="bold"><strong>containerId</strong></span>, psArgs</td>
                    <td>List processes running in a container</td>
                    <td> </td>
                    <td>TopContainerResponse</td>
                </tr><tr>
                    <td>container/pause</td>
                    <td><span class="bold"><strong>containerId</strong></span></td>
                    <td>Pause a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>container/unpause</td>
                    <td><span class="bold"><strong>containerId</strong></span></td>
                    <td>Unpause a container</td>
                    <td> </td>
                    <td> </td>
                </tr><tr>
                    <td>container/commit</td>
                    <td><span class="bold"><strong>containerId</strong></span>, repository,
                        message, tag, attachStdIn, attachStdOut, attachStdErr, cmd,
                        disableNetwork, pause, env, exposedPorts, hostname, memory,
                        memorySwap, openStdIn, portSpecs, stdInOnce, tty, user, volumes,
                        hostname</td>
                    <td>Create a new image from a container's
                        changes</td>
                    <td>String</td>
                    <td> </td>
                </tr><tr>
                    <td>container/copyfile</td>
                    <td><span class="bold"><strong>containerId</strong></span>,
                            <span class="bold"><strong>resource</strong></span>, hostPath</td>
                    <td>Copy files or folders from a container</td>
                    <td>InputStream</td>
                    <td> </td>
                </tr><tr>
                    <td>container/remove</td>
                    <td><span class="bold"><strong>containerId</strong></span>, force,
                        removeVolumes </td>
                    <td>Remove a container</td>
                    <td> </td>
                    <td> </td>
                </tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e71968"></a>Examples</h2></div></div></div><p>The following example consumes events from
            Docker:</p><pre class="programlisting">from("docker://events?host=192.168.59.103&amp;port=2375").to("log:event");</pre><p>The following example queries Docker for system wide
            information</p><pre class="programlisting">from("docker://info?host=192.168.59.103&amp;port=2375").to("log:info");</pre></div></div></body></html>
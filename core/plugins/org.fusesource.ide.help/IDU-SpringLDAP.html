<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Spring LDAP</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-SpringEvent.html" title="Spring Event"><link rel="next" href="IDU-SpringRedis.html" title="Spring Redis"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-SpringLDAP"></a>Spring LDAP</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_SpringLDAPComponent"></a>Spring LDAP Component</h2></div></div></div><p></p><p><span class="bold"><strong>Available since Camel 2.11</strong></span>
    </p><p>The <span class="bold"><strong>spring-ldap:</strong></span> component provides a Camel wrapper for <a class="link" href="http://www.springsource.org/ldap" target="_top">Spring LDAP</a>.</p><p>Maven users will need to add the following dependency to their <code class="literal">pom.xml</code> for this component:</p><pre class="programlisting">
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-spring-ldap&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;
</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_URIformat"></a>URI format</h2></div></div></div><p></p><pre class="programlisting">
spring-ldap:springLdapTemplate[?options]
</pre><p>Where <span class="bold"><strong>springLdapTemplate</strong></span> is the name of the <a class="link" href="http://static.springsource.org/spring-ldap/site/apidocs/org/springframework/ldap/core/LdapTemplate.html" target="_top">Spring LDAP Template bean</a>. In this bean, you configure the URL and the credentials for your LDAP access.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_Options"></a>Options</h2></div></div></div><p></p><p>

    </p><table id="d0e164127"><tr>
        <th> Name </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">operation</code>
        </td>
        <td> String </td>
        <td> The LDAP operation to be performed. Must be one of <code class="literal">search</code>, <code class="literal">bind</code>, or <code class="literal">unbind</code>. </td>
      </tr><tr>
        <td><code class="literal">scope</code>
        </td>
        <td> String </td>
        <td> The scope of the search operation. Must be one of <code class="literal">object</code>, <code class="literal">onelevel</code>, or <code class="literal">subtree</code>, see also <a class="link" href="http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol#Search_and_Compare" target="_top">http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol#Search_and_Compare</a>
        </td>
      </tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_Usage"></a>Usage</h2></div></div></div><p></p><p>The component supports producer endpoint only. An attempt to create a consumer endpoint will result in an <code class="literal">UnsupportedOperationException</code>.
The body of the message must be a map (an instance of <code class="literal">java.util.Map</code>). This map must contain at least an entry with the key <span class="bold"><strong><code class="literal">dn</code></strong></span> that specifies the root node for the LDAP operation to be performed. Other entries of the map are operation-specific (see below).</p><p>The body of the message remains unchanged for the <code class="literal">bind</code> and <code class="literal">unbind</code> operations. For the <code class="literal">search</code> operation, the body is set to the result of the search, see <a class="link" href="http://static.springsource.org/spring-ldap/site/apidocs/org/springframework/ldap/core/LdapTemplate.html#search%28java.lang.String,%20java.lang.String,%20int,%20org.springframework.ldap.core.AttributesMapper%29" target="_top">http://static.springsource.org/spring-ldap/site/apidocs/org/springframework/ldap/core/LdapTemplate.html#search%28java.lang.String,%20java.lang.String,%20int,%20org.springframework.ldap.core.AttributesMapper%29</a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_Search"></a>Search</h2></div></div></div><p></p><p>The message body must have an entry with the key <span class="bold"><strong><code class="literal">filter</code></strong></span>. The value must be a String representing a valid LDAP filter, see <a class="link" href="http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol#Search_and_Compare" target="_top">http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol#Search_and_Compare</a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_Bind"></a>Bind</h2></div></div></div><p></p><p>The message body must have an entry with the key <span class="bold"><strong><code class="literal">attributes</code></strong></span>. The value must be an instance of <a class="link" href="http://docs.oracle.com/javase/6/docs/api/javax/naming/directory/Attributes.html" target="_top">javax.naming.directory.Attributes</a> This entry specifies the LDAP node to be created.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SpringLDAP_HSH_Unbind"></a>Unbind</h2></div></div></div><p></p><p>No further entries necessary, the node with the specified <span class="bold"><strong><code class="literal">dn</code></strong></span> is deleted.</p><p><span class="bold"><strong>Key definitions</strong></span>
    </p><p>In order to avoid spelling errors, the following constants are defined in <code class="literal">org.apache.camel.springldap.SpringLdapProducer</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p></p><p>public static final String DN = "dn"</p></li><li class="listitem"><p></p><p>public static final String FILTER = "filter"</p></li><li class="listitem"><p></p><p>public static final String ATTRIBUTES = "attributes"</p></li></ul></div></div></div></body></html>
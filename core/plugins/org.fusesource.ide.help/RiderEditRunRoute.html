<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Editing running routes</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderDebugPart.html" title="Part&nbsp;IV.&nbsp;Monitoring and Testing Applications"><link rel="prev" href="RiderDeleteEndpoint.html" title="Deleting a routing endpoint"><link rel="next" href="RiderManageRouteContexts.html" title="Managing routing contexts"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="RiderEditRunRoute"></a>Editing running routes</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9591"></a>Overview</h2></div></div></div><p>You can experiment with changes to a running route, without having to change your
            project's routing context. </p><p>To do so, you:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Enable the <span class="guimenuitem">Edit Routes</span> option on the running routing context in
                        <span class="guilabel">JMX Navigator</span>.</p><p>This opens an in-memory model of it&#8212;<code class="filename">Remote
                        CamelContext:&lt;camelContextId&gt;</code>&#8212;in the route editor. </p></li><li class="listitem"><p>Make your changes to the in-memory model of the routing context in the route editor. At the
                    same time, you can set breakpoints on relevant
                    nodes to use the Camel debugger and all of its features.</p><p>You can edit the in-memory model to add, remove, or rearrange nodes; to add or
                    remove properties of existing nodes; and to modify property values set on
                    existing nodes. You must save changes made to the in-memory model to update the
                    running context and to see results in <span class="guilabel">Debug</span>
                    perspective if you set breakpoints.</p></li><li class="listitem"><p>Drop messages on the running routing context in <span class="guilabel">JMX
                Navigator</span>, or wait for messages to arrive from a timer, 
                ActiveMQ, file, or other continuous input node.</p></li><li class="listitem"><p>Evaluate results and use the Camel debugger in
                <span class="guilabel">Debug</span> perspective to gain deeper insight into your routing
                context.</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9633"></a>Modifying a running route and evaluating results</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">JMX Navigator</span>, select the routing context containing
                    the routes you want to edit.</p></li><li class="step"><p>Right-click it to open the context menu, and select <span class="guimenuitem">Edit
                        Routes</span>.</p><p>The route editor opens an in-memory model of the routing context,
                        <code class="literal">Remote CamelContext:&lt;contextId&gt;</code>, displaying all routes
                    in the context:</p><div class="informalfigure"><div class="mediaobject"><img src="images/editRoutesMemModel.png" width="791.5"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><code class="literal">&lt;contextId&gt;</code> is the ID of the <code class="code">camelContext</code> element in the
                        project's routing context .<code class="literal">xml</code> file. In this example,
                        which is based on the <span class="guimenu">JBoss Fuse</span> &gt; <span class="guimenuitem">Content Based Router</span> pre-defined template, the ID is
                            <code class="literal">cbr-example-context</code>.</p></td></tr></table></div></li><li class="step"><a name="liveRteMsgStrt"></a><p>Edit the route as described in <a href="RiderEditRoute.html" class="olink"><i>Editing a routing context in the route editor</i></a>, then
                    select <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> to save the changes you made to the in-memory model and to update
                    the running routing context.</p></li><li class="step"><p>Set breakpoints on the relevant nodes as described in <a href="setBreakpoints.html" class="olink"><i>Setting Breakpoints</i></a>.</p></li><li class="step"><p>Drop a message on the running routing context's input node in <span class="guilabel">JMX
                        Navigator</span>.</p><p>If your project does not include test messages, you can create them as
                    described in <a href="RiderMessageCreate.html" class="olink">Creating test messages for route tracing</a>.</p></li><li class="step"><p>Click <span class="guibutton">Yes</span> to confirm the switch to <span class="guilabel">Debug</span>
                    perspective.</p></li><li class="step"><a name="liveRteMsgEnd"></a><p>In the Camel debugger, step the message through the breakpoints as you
                    normally would (see <a href="startDebugger.html" class="olink"><i>Running the Camel Debugger</i></a>) to see the results your
                    changes generated.</p><p>The Camel debugger behaves the same in <span class="guimenuitem">Edit Routes</span>
                    mode as in normal debug mode, so you can use any of the Camel debugger's
                    features while a message is transiting the routing context.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>When a message reaches the end of the routing context, the debugger is suspended. To continue
                        debugging, switch back to <span class="guilabel">Fuse Integration</span> perspective
                        and drop another message on the input node in <span class="guilabel">JMX
                            Navigator</span>. Each time you do so, the tooling asks you to
                        confirm the switch to <span class="guilabel">Debug</span> perspective.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If connection to the running routing context is lost in <span class="guilabel">JMX Navigator</span> (<span class="guimenu">Local Processes</span> &gt; <span class="guisubmenu">maven[xxxx][Disconnected]</span>) during a route editing session, reconnect to it and restart
                            <span class="guimenuitem">Edit Routes</span> to continue the session.</p></td></tr></table></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9750"></a>Terminating the route editing session</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Debug</span> perspective's <span class="guilabel">Debug</span> view, select the
                        <code class="literal">Remote Camel Debug -
                        camelContext--&lt;contextId&gt;--xxxxxxxxxxxxxxxxxx.xml [Remote Camel
                        Context]</code> thread, and then click <span class="inlinemediaobject"><img src="./images/terminate_co.png" alt="Terminate button"></span> on the menu bar to terminate the debugging session.</p></li><li class="step"><p>On <span class="guilabel">Console</span> view's menu bar, click <span class="inlinemediaobject"><img src="./images/terminate_co.png" alt="Terminate button"></span> to terminate the routing context.</p></li><li class="step"><p>If you want to clear console output, click <span class="inlinemediaobject"><img src="./images/clear_co.png"></span> on <span class="guilabel">Console</span> view's menu bar.</p></li><li class="step"><p>Switch to <span class="guilabel">Fuse Integration</span> perspective, and in the route editor, click <span class="inlinemediaobject"><img src="./images/close.gif"></span> on the <code class="literal">Remote
                        CamelContext:&lt;contextId&gt;</code> tab to close the in-memory model of
                    the routing context file.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9809"></a>Related topics</h2></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td>
                <a href="RiderEditRoute.html" class="olink"><i>Editing a routing context in the route editor</i></a>
            </td></tr><tr><td>
                <a href="RiderCamelDebugger.html" class="olink">Part&nbsp;III, &#8220;Debugging Routing Contexts&#8221;</a>
            </td></tr></table></div></div></body></html>
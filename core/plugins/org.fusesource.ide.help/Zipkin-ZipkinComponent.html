<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Zipkin Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Zipkin.html" title="Zipkin"><link rel="prev" href="IDU-Zipkin.html" title="Zipkin"><link rel="next" href="camel-zipkin-Options.html" title="Options"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Zipkin-ZipkinComponent"></a>Zipkin Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="camel-zipkin-Options.html">Options</a></span></dt><dt><span class="section"><a href="camel-zipkin-Example.html">Example</a></span></dt><dt><span class="section"><a href="camel-zipkin-camel-zipin-starter.html">camel-zipin-starter</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel 2.18</strong></span></p><p>The camel-zipkin component is used for tracing and timing incoming and
outgoing Camel messages using <a class="link" href="http://zipkin.io/" target="_top">zipkin</a>.</p><p>Events (span) are captured for incoming and outgoing messages being sent
to/from Camel.</p><p>This means you need to configure which Camel endpoints map
to zipkin service names.</p><p>The mapping can be configured using:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">route id - A Camel route id</li><li class="listitem">endpoint url - A Camel endpoint url</li></ul></div><p>For both kinds you can match using wildcards and regular expressions,
using the rules from&nbsp;<a class="link" href="intercept.html" target="_top">Intercept</a>.</p><p>To match all Camel messages you can use * in the pattern and configure
that to the same service name.</p><p>If no mapping has been configured, Camel will fallback and use
endpoint uri&#8217;s as service names.&nbsp;
However, it&#8217;s recommended to configure service mappings so you can use
human-readable names instead of Camel&nbsp;endpoint uris in the names.</p><p>Camel will auto-configure a ScribeSpanCollector if no spanCollector has been
explicitly configured, or&nbsp;if the following SpanCollector hostname and port environment variables
have been configured:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">ZIPKIN_COLLECTOR_THRIFT_SERVICE_HOST - The hostname</li><li class="listitem">ZIPKIN_COLLECTOR_THRIFT_SERVICE_PORT - The port number</li></ul></div><p>This makes it easy to use camel-zipkin in container platforms where the
platform can run your application in a linux container where service
configurations are provided as environment variables.</p></div></body></html>
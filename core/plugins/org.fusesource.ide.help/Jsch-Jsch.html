<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Jsch Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="JPA-JPAComponent.html" title="JPA Component"><link rel="next" href="JT400-JT400Component.html" title="JT/400 Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="Jsch-Jsch"></a>Jsch Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="Jsch-Jsch.html#Jsch-URIformat">URI format</a></span></dt><dt><span class="section"><a href="Jsch-Jsch.html#Jsch-Options">Options</a></span></dt><dt><span class="section"><a href="Jsch-Jsch.html#Jsch-Limitations">Limitations</a></span></dt><dt><span class="section"><a href="Jsch-Jsch.html#Jsch-SeeAlso">See Also</a></span></dt></dl></div><p>The <span class="strong"><strong>camel-jsch</strong></span> component supports the
<a class="link" href="http://en.wikipedia.org/wiki/Secure_copy" target="_top">SCP protocol</a> using the Client
API of the <a class="link" href="http://www.jcraft.com/jsch/" target="_top">Jsch</a> project. Jsch is already
used in camel by the <a class="link" href="ftp.html" target="_top">FTP</a> component for the <span class="strong"><strong>sftp:</strong></span>
protocol.</p><p>Maven users will need to add the following dependency to their <code class="literal">pom.xml</code>
for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-jsch<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Jsch-URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">scp:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//host[:port]/destination[?options]</em></pre><p>You can append query options to the URI in the following format,
<code class="literal">?option=value&amp;option=value&amp;&#8230;&#8203;</code></p><p>The file name can be specified either in the &lt;path&gt; part of the URI or
as a "CamelFileName" header on the message (<code class="literal">Exchange.FILE_NAME</code> if used
in code).</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Jsch-Options"></a>Options</h2></div></div></div><p>The SCP component supports 1 options which are listed below.</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="11%" class="col_2"><col width="70%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>verboseLogging</p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>JSCH is verbose logging out of the box. Therefore we turn the logging down to DEBUG logging by default. But setting this option to true turns on the verbose logging again.</p></td></tr></tbody></table></div><p>{% endraw %}</p><p>The SCP component supports 21 endpoint options which are listed below:</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="10%" class="col_2"><col width="11%" class="col_3"><col width="10%" class="col_4"><col width="50%" class="col_5"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Group</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>host</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Hostname of the FTP server</p></td></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">int</code></p></td><td align="left" valign="top"><p>Port of the FTP server</p></td></tr><tr><td align="left" valign="top"><p>directoryName</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The starting directory</p></td></tr><tr><td align="left" valign="top"><p>disconnect</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether or not to disconnect from remote FTP server right after use. Disconnect will only disconnect the current connection to the FTP server. If you have a consumer which you want to stop then you need to stop the consumer/route instead.</p></td></tr><tr><td align="left" valign="top"><p>chmod</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">664</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Allows you to set chmod on the stored file. For example chmod=664.</p></td></tr><tr><td align="left" valign="top"><p>fileName</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Use Expression such as File Language to dynamically set the filename. For consumers it&#8217;s used as a filename filter. For producers it&#8217;s used to evaluate the filename to write. If an expression is set it take precedence over the CamelFileName header. (Note: The header itself can also be an Expression). The expression options support both String and Expression types. If the expression is a String type it is always evaluated using the File Language. If the expression is an Expression type the specified Expression type is used - this allows you for instance to use OGNL expressions. For the consumer you can use it to filter filenames so you can for instance consume today&#8217;s file using the File Language syntax: mydata-$date:now:yyyyMMdd.txt. The producers support the CamelOverruleFileName header which takes precedence over any existing CamelFileName header; the CamelOverruleFileName is a header that is used only once and makes it easier as this avoids to temporary store CamelFileName and have to restore it afterwards.</p></td></tr><tr><td align="left" valign="top"><p>flatten</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Flatten is used to flatten the file name path to strip any leading paths so it&#8217;s just the file name. This allows you to consume recursively into sub-directories but when you eg write the files to another directory they will be written in a single directory. Setting this to true on the producer enforces that any file name in CamelFileName header will be stripped for any leading paths.</p></td></tr><tr><td align="left" valign="top"><p>strictHostKeyChecking</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">no</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets whether to use strict host key checking. Possible values are: no yes</p></td></tr><tr><td align="left" valign="top"><p>allowNullBody</p></td><td align="left" valign="top"><p>producer (advanced)</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Used to specify if a null body is allowed during file writing. If set to true then an empty file will be created when set to false and attempting to send a null body to the file component a GenericFileWriteException of 'Cannot write null body to file.' will be thrown. If the fileExist option is set to 'Override' then the file will be truncated and if set to append the file will remain unchanged.</p></td></tr><tr><td align="left" valign="top"><p>disconnectOnBatchComplete</p></td><td align="left" valign="top"><p>producer (advanced)</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether or not to disconnect from remote FTP server right after a Batch upload is complete. disconnectOnBatchComplete will only disconnect the current connection to the FTP server.</p></td></tr><tr><td align="left" valign="top"><p>connectTimeout</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">10000</code></p></td><td align="left" valign="top"><p><code class="literal">int</code></p></td><td align="left" valign="top"><p>Sets the connect timeout for waiting for a connection to be established Used by both FTPClient and JSCH</p></td></tr><tr><td align="left" valign="top"><p>soTimeout</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">300000</code></p></td><td align="left" valign="top"><p><code class="literal">int</code></p></td><td align="left" valign="top"><p>Sets the so timeout Used only by FTPClient</p></td></tr><tr><td align="left" valign="top"><p>synchronous</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td></tr><tr><td align="left" valign="top"><p>timeout</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">30000</code></p></td><td align="left" valign="top"><p><code class="literal">int</code></p></td><td align="left" valign="top"><p>Sets the data timeout for waiting for reply Used only by FTPClient</p></td></tr><tr><td align="left" valign="top"><p>knownHostsFile</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the known_hosts file so that the jsch endpoint can do host key verification.</p></td></tr><tr><td align="left" valign="top"><p>password</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Password to use for login</p></td></tr><tr><td align="left" valign="top"><p>privateKeyFile</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set the private key file to that the SFTP endpoint can do private key verification.</p></td></tr><tr><td align="left" valign="top"><p>privateKeyFilePassphrase</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set the private key file passphrase to that the SFTP endpoint can do private key verification.</p></td></tr><tr><td align="left" valign="top"><p>username</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Username to use for login</p></td></tr><tr><td align="left" valign="top"><p>useUserKnownHostsFile</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>If knownHostFile has not been explicit configured then use the host file from System.getProperty(user.home) /.ssh/known_hosts</p></td></tr><tr><td align="left" valign="top"><p>ciphers</p></td><td align="left" valign="top"><p>security (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set a comma separated list of ciphers that will be used in order of preference. Possible cipher names are defined by JCraft JSCH. Some examples include: aes128-ctraes128-cbc3des-ctr3des-cbcblowfish-cbcaes192-cbcaes256-cbc. If not specified the default list from JSCH will be used.</p></td></tr></tbody></table></div><p>{% endraw %}</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Jsch-Limitations"></a>Limitations</h2></div></div></div><p>Currently camel-jsch only supports a
<a class="link" href="http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Producer.html" target="_top">Producer</a>
(i.e. copy files to another host).&nbsp;</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Jsch-SeeAlso"></a>See Also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="configuring-camel.html" target="_top">Configuring Camel</a></li><li class="listitem"><a class="link" href="component.html" target="_top">Component</a></li><li class="listitem"><a class="link" href="endpoint.html" target="_top">Endpoint</a></li><li class="listitem"><a class="link" href="getting-started.html" target="_top">Getting Started</a></li></ul></div></div></div></body></html>
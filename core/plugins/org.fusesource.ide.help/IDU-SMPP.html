<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>SMPP</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-Slack.html" title="Slack"><link rel="next" href="IDU-SNMP.html" title="SNMP"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-SMPP"></a>SMPP</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_SMPPComponent"></a>SMPP Component</h2></div></div></div><p>This component provides access to an SMSC (Short Message Service Center) over the <a class="link" href="http://smsforum.net/SMPP_v3_4_Issue1_2.zip" target="_top">SMPP</a> protocol to send
            and receive SMS. The <a class="link" href="http://code.google.com/p/jsmpp/" target="_top">JSMPP</a>
            library is used for the protocol implementation.</p><p>The Camel component currently operates as an ESME (External Short Messaging Entity)
            and not as an SMSC itself.</p><p>Starting with <span class="bold"><strong>Camel 2.9</strong></span> you are also able to execute
                <code class="code">ReplaceSm</code>, <code class="code">QuerySm</code>, <code class="code">SubmitMulti</code>,
                <code class="code">CancelSm</code> and <code class="code">DataSm</code>.</p><p>Maven users will need to add the following dependency to their <code class="code">pom.xml</code>
            for this component:</p><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-smpp&lt;/artifactId&gt;
    &lt;version&gt;2.18.1.redhat-000005&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e158419"></a>SMS limitations</h2></div></div></div><p>SMS is neither reliable or secure. Users who require reliable and secure delivery may
            want to consider using the XMPP or SIP components instead, combined with a smartphone
            app supporting the chosen protocol.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Reliability:</em></span> although the SMPP standard offers a range of
                    feedback mechanisms to indicate errors, non-delivery and confirmation of
                    delivery it is not uncommon for mobile networks to hide or simulate these
                    responses. For example, some networks automatically send a delivery confirmation
                    for every message even if the destination number is invalid or not switched on.
                    Some networks silently drop messages if they think they are spam. Spam detection
                    rules in the network may be very crude, sometimes more than 100 messages per day
                    from a single sender may be considered spam.</p></li><li class="listitem"><p><span class="emphasis"><em>Security:</em></span> there is basic encryption for the last hop from
                    the radio tower down to the recipient handset. SMS messages are not encrypted or
                    authenticated in any other part of the network. Some operators allow staff in
                    retail outlets or call centres to browse through the SMS message histories of
                    their customers. Message sender identity can be easily forged. Regulators and
                    even the mobile telephone industry itself has cautioned against the use of SMS
                    in two-factor authentication schemes and other purposes where security is
                    important.</p></li></ul></div><p>While the Camel component makes it as easy as possible to send messages to the SMS
            network, it can not offer an easy solution to these problems.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e158437"></a>Data coding, alphabet and international character sets</h2></div></div></div><p>Data coding and alphabet can be specified on a per-message basis. Default values can
            be specified for the endpoint. It is important to understand the relationship between
            these options and the way the component acts when more than one value is set.</p><p>Data coding is an 8 bit field in the SMPP wire format. Alphabet corresponds to bits
            0-3 of the data coding field. For some types of message, where a message class is used
            (by setting bit 5 of the data coding field), the lower two bits of the data coding field
            are not interpreted as alphabet and only bits 2 and 3 impact the alphabet.</p><p>Furthermore, the current version of the JSMPP library only seems to support bits 2 and
            3, assuming that bits 0 and 1 are used for the message class. This is why the Alphabet
            class in JSMPP does not support the value 3 (binary 0011) which indicates
            ISO-8859-1.</p><p>Although JSMPP provides a representation of the message class parameter, the Camel
            component does not currently provide a way to set it other than manually setting the
            corresponding bits in the data coding field.</p><p>When setting the data coding field in the outgoing message, the Camel component
            considers the following values and uses the first one it can find:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The data coding specified in a header,</p></li><li class="listitem"><p>The alphabet specified in a header,</p></li><li class="listitem"><p>The data coding specified in the endpoint configuration ( URI
                    parameter).</p></li></ul></div><p>In addition to trying to send the data coding value to the SMSC, the Camel component
            also tries to analyse the message body, convert it to a Java String (Unicode) and
            convert that to a byte array in the corresponding alphabet When deciding which alphabet
            to use in the byte array, the Camel SMPP component does not consider the data coding
            value (header or configuration), it only considers the specified alphabet (from either
            the header or endpoint parameter).</p><p>If some characters in the <code class="code">String</code> cannot be represented in the chosen
            alphabet, they may be replaced by the question mark, <code class="code">?</code>, symbol. Users of
            the API may want to consider checking if their message body can be converted to
            ISO-8859-1 before passing it to the component and if not, setting the alphabet header to
            request UCS-2 encoding. If the alphabet and data coding options are not specified at all
            then the component may try to detect the required encoding and set the data coding for
            you.</p><p>The list of alphabet codes are specified in the SMPP specification v3.4, section
            5.2.19. One notable limitation of the SMPP specification is that there is no alphabet
            code for explicitly requesting use of the GSM 3.38 (7 bit) character set. Choosing the
            value 0 for the alphabet selects the SMSC default alphabet, this usually means GSM 3.38
            but it is not guaranteed. The SMPP gateway Nexmo actually allows the default to be
            mapped to any other character set with a control panel option. It is suggested that
            users check with their SMSC operator to confirm exactly which character set is being
            used as the default.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e158472"></a>Message splitting and throttling</h2></div></div></div><p>After transforming a message body from a <code class="code">String</code> to a <code class="code">byte</code>
            array, the Camel component is also responsible for splitting the message into parts
            (within the 140 byte SMS size limit) before passing it to JSMPP. This is completed
            automatically.</p><p>If the GSM 3.38 alphabet is used, the component will pack up to 160 characters into
            the 140 byte message body. If an 8 bit character set is used (e.g. ISO-8859-1 for
            western Europe) then 140 characters will be allowed within the 140 byte message body. If
            16 bit UCS-2 encoding is used then just 70 characters fit into each 140 byte
            message.</p><p>Some SMSC providers implement throttling rules. Each part of a message that has been
            split may be counted separately by the provider's throttling mechanism. The Camel
            Throttler component can be useful for throttling messages in the SMPP route before
            handing them to the SMSC.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">smpp://[username@]hostname[:port][?options]
smpps://[username@]hostname[:port][?options]</pre><p>If no <span class="bold"><strong>username</strong></span> is provided, then Apache Camel will provide
      the default value <code class="literal">smppclient</code>. If no <span class="bold"><strong>port</strong></span>
      number is provided, then Apache Camel will provide the default value
        <code class="literal">2775</code>.<span class="bold"><strong>Camel 2.3:</strong></span> If the protocol name is
        <code class="code">smpps</code>, camel-smpp with try to use SSLSocket to init a connection to the
      server.</p><p>You can append query options to the URI in the following format,
        <code class="literal">?option=value&amp;option=value&amp;...</code>
    </p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_URIOptions"></a>URI Options</h2></div></div></div><p></p><table id="d0e158523"><tr>
        <th> Name </th>
        <th> Default Value </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">password</code>
        </td>
        <td><code class="literal">password</code>
        </td>
        <td> Specifies the password to use to log in to the SMSC. </td>
      </tr><tr>
        <td><code class="literal">systemType</code>
        </td>
        <td><code class="literal">cp</code>
        </td>
        <td> This parameter is used to categorize the type of ESME (External Short Message Entity)
          that is binding to the SMSC (max. 13 characters). </td>
      </tr><tr>
        <td><code class="literal">dataCoding</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.11</strong></span> Defines the data coding according the
            SMPP 3.4 specification, section 5.2.19. (Prior to <span class="bold"><strong>Camel
              2.9</strong></span>, this option is also supported.) Example data encodings are:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: SMSC Default Alphabet</p></li><li class="listitem"><p><code class="literal">3</code>: Latin 1 (ISO-8859-1) </p></li><li class="listitem"><p><code class="literal">4</code>: Octet unspecified (8-bit binary) </p></li><li class="listitem"><p><code class="literal">8</code>: UCS2 (ISO/IEC-10646) </p></li><li class="listitem"><p><code class="literal">13</code>: Extended Kanji JIS(X 0212-1990)</p></li></ul></div>
          
        </td>
      </tr><tr>
        <td><code class="literal">alphabet</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.5</strong></span> Defines encoding of data according the SMPP 3.4 specification, section 5.2.19. This option is mapped to <a class="link" href="http://code.google.com/p/jsmpp/source/browse/tags/2.1.0/src/java/main/org/jsmpp/bean/Alphabet.java" target="_top"><code class="literal">Alphabet.java</code>
          </a> and used to create the <code class="literal">byte[]</code> which is send to the SMSC. Example alphabets are:
            
            <code class="literal">0</code>: SMSC Default Alphabet
            
            <code class="literal">4</code>: 8 bit Alphabet
            
            <code class="literal">8</code>: UCS2 Alphabet</p>
        </td>
      </tr><tr>
        <td><code class="literal">encoding</code>
        </td>
        <td><code class="literal">ISO-8859-1</code>
        </td>
        <td> <span class="bold"><strong>only for SubmitSm, ReplaceSm and SubmitMulti</strong></span> Defines the encoding scheme of the short message user data. </td>
      </tr><tr>
        <td><code class="literal">enquireLinkTimer</code>
        </td>
        <td><code class="literal">5000</code>
        </td>
        <td> Defines the interval in milliseconds between the confidence checks. The confidence
          check is used to test the communication path between an ESME and an SMSC. </td>
      </tr><tr>
        <td><code class="literal">transactionTimer</code>
        </td>
        <td><code class="literal">10000</code>
        </td>
        <td> Defines the maximum period of inactivity allowed after a transaction, after which an
          SMPP entity may assume that the session is no longer active. This timer may be active on
          either communicating SMPP entity (i.e. SMSC or ESME). </td>
      </tr><tr>
        <td><code class="literal">initialReconnectDelay</code>
        </td>
        <td><code class="literal">5000</code>
        </td>
        <td> Defines the initial delay in milliseconds after the consumer/producer tries to
          reconnect to the SMSC, after the connection was lost. </td>
      </tr><tr>
        <td><code class="literal">reconnectDelay</code>
        </td>
        <td><code class="literal">5000</code>
        </td>
        <td> Defines the interval in milliseconds between the reconnect attempts, if the connection
          to the SMSC was lost and the previous was not succeed. </td>
      </tr><tr>
        <td><code class="literal">registeredDelivery</code>
        </td>
        <td><code class="literal">1</code>
        </td>
        <td>
          <p> <span class="bold"><strong>only for SubmitSm, ReplaceSm, SubmitMulti and DataSm</strong></span> Is used to request an SMSC delivery receipt and/or SME originated acknowledgements.
            The following values are defined: <code class="literal">0</code>: No SMSC delivery receipt
            requested. <code class="literal">1</code>: SMSC delivery receipt requested where final delivery
            outcome is success or failure. <code class="literal">2</code>: SMSC delivery receipt requested
            where the final delivery outcome is delivery failure. </p>
        </td>
      </tr><tr>
        <td><code class="literal">serviceType</code>
        </td>
        <td><code class="literal">CMT</code>
        </td>
        <td>
          <p> The service type parameter can be used to indicate the SMS Application service
            associated with the message. The following generic service_types are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">CMT</code>: Cellular Messaging</p></li><li class="listitem"><p><code class="literal">CPT</code>: Cellular Paging</p></li><li class="listitem"><p><code class="literal">VMN</code>: Voice Mail Notification</p></li><li class="listitem"><p><code class="literal">VMA</code>: Voice Mail Alerting</p></li><li class="listitem"><p><code class="literal">WAP</code>: Wireless Application Protocol</p></li><li class="listitem"><p><code class="literal">USSD</code>: Unstructured Supplementary Services Data</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">sourceAddr</code>
        </td>
        <td><code class="literal">1616</code>
        </td>
        <td> Defines the address of SME (Short Message Entity) which originated this message. </td>
      </tr><tr>
        <td><code class="literal">destAddr</code>
        </td>
        <td><code class="literal">1717</code>
        </td>
        <td> <span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the destination SME address. For mobile terminated messages, this is the
          directory number of the recipient MS. </td>
      </tr><tr>
        <td><code class="literal">sourceAddrTon</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> Defines the type of number (TON) to be used in the SME originator address
            parameters. The following TON values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">destAddrTon</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> <span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the type of number (TON) to be used in the SME destination address
            parameters. The following TON values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">sourceAddrNpi</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> Defines the numeric plan indicator (NPI) to be used in the SME originator address
            parameters. The following NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">destAddrNpi</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> <span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the numeric plan indicator (NPI) to be used in the SME destination address
            parameters. The following NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">priorityFlag</code>
        </td>
        <td><code class="literal">1</code>
        </td>
        <td>
          <p> <span class="bold"><strong>only for SubmitSm and SubmitMulti</strong></span> Allows the originating SME to assign a priority level to the short message. Four
            Priority Levels are supported:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Level 0 (lowest) priority</p></li><li class="listitem"><p><code class="literal">1</code>: Level 1 priority</p></li><li class="listitem"><p><code class="literal">2</code>: Level 2 priority</p></li><li class="listitem"><p><code class="literal">3</code>: Level 3 (highest) priority</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">replaceIfPresentFlag</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> <span class="bold"><strong>only for SubmitSm and SubmitMulti</strong></span> Used to request the SMSC to replace a previously submitted message, that is still
            pending delivery. The SMSC will replace an existing message provided that the source
            address, destination address and service type match the same fields in the new message.
            The following replace if present flag values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Don't replace</p></li><li class="listitem"><p><code class="literal">1</code>: Replace</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">dataCoding</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.5 onwarts</strong></span> Defines encoding of data
            according the SMPP 3.4 specification, section 5.2.19. Example data encodings are:
              <code class="literal">0</code>: SMSC Default Alphabet <code class="literal">4</code>: 8 bit Alphabet
              <code class="literal">8</code>: UCS2 Alphabet</p>
        </td>
      </tr><tr>
        <td><code class="literal">typeOfNumber</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> Defines the type of number (TON) to be used in the SME. The following TON values
            are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">numberingPlanIndicator</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td>
          <p> Defines the numeric plan indicator (NPI) to be used in the SME. The following NPI
            values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">lazySessionCreation</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.8 onwards</strong></span> Sessions can be lazily created to avoid exceptions, if the SMSC is not available when the Camel producer is started.
            
            <span class="bold"><strong>Camel 2.11 onwards</strong></span> Camel will check the in message headers 'CamelSmppSystemId' and 'CamelSmppPassword' of the first exchange. If they are present, Camel will use these data to connect to the SMSC. </p>
        </td>
      </tr><tr>
        <td><code class="literal">httpProxyHost</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td><span class="bold"><strong>Camel 2.9.1:</strong></span> If you need to tunnel SMPP through a HTTP proxy, set this attribute to the hostname or ip address of your HTTP proxy. </td>
      </tr><tr>
        <td><code class="literal">httpProxyPort</code>
        </td>
        <td><code class="literal">3128</code>
        </td>
        <td><span class="bold"><strong>Camel 2.9.1:</strong></span> If you need to tunnel SMPP through a HTTP proxy, set this attribute to the port of your HTTP proxy. </td>
      </tr><tr>
        <td><code class="literal">httpProxyUsername</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td><span class="bold"><strong>Camel 2.9.1:</strong></span> If your HTTP proxy requires basic authentication, set this attribute to the username required for your HTTP proxy. </td>
      </tr><tr>
        <td><code class="literal">httpProxyPassword</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td><span class="bold"><strong>Camel 2.9.1:</strong></span> If your HTTP proxy requires basic authentication, set this attribute to the password required for your HTTP proxy. </td>
      </tr><tr>
        <td><code class="literal">sessionStateListener</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td><span class="bold"><strong>Camel 2.9.3:</strong></span> You can refer to a <code class="literal">org.jsmpp.session.SessionStateListener</code> in the <code class="literal">Registry</code> to receive callbacks when the session state changed. </td>
      </tr><tr>
        <td><code class="literal">addressRange</code></td>
        <td><code class="literal">""</code>
        </td>
        <td><span class="bold"><strong>Camel 2.11:</strong></span> You can specify the address range for the <code class="literal">SmppConsumer</code> as defined in section 5.2.7 of the SMPP 3.4 specification. The <code class="literal">SmppConsumer</code> will receive messages only from SMSC's which target an address (MSISDN or IP address) within this range. </td>
      </tr><tr>
                <td><code class="literal">splittingPolicy</code></td>
                <td><code class="literal">ALLOW</code>
                </td>
                <td>
                    <p><span class="bold"><strong>Camel 2.14.1 and 2.15.0:</strong></span> You can specify
                        a policy for handling long messages, as follows:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">ALLOW</code> - (the default) long messages are split to 140
                                bytes per message.</p></li><li class="listitem"><p><code class="code">TRUNCATE</code> - long messages are split and only the first
                                fragment will be sent to the SMSC. Some carriers drop subsequent
                                fragments so this reduces load on the SMPP connection sending parts
                                of a message that will never be delivered.</p></li><li class="listitem"><p><code class="code">REJECT</code> - if a message would need to be split, it is
                                rejected with an SMPP <code class="code">NegativeResponseException</code> and the
                                reason code signifying the message is too long.</p></li></ul></div>
                </td>
            </tr><tr>
                <td><code class="literal">proxyHeaders</code></td>
                <td><code class="literal">null</code>
                </td>
                <td><span class="bold"><strong>Camel 2.17:</strong></span> These headers will be passed to the
                    proxy server while establishing the connection. </td>
            </tr></table><p>You can have as many of these options as you like.</p><pre class="programlisting">smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_ProducerMessageHeaders"></a>Producer Message Headers</h2></div></div></div><p>The following message headers can be used to affect the behavior of the SMPP producer

    </p><table id="d0e159532"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddr</code>
        </td>
        <td><code class="literal">List/String</code></td>
        <td><span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the destination SME address(es). For mobile terminated messages, this is the directory number of the recipient MS. Is must be a <code class="literal">List&lt;String&gt;</code> for SubmitMulti and a <code class="literal">String</code> otherwise. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddrTon</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span>
            Defines the type of number (TON) to be used in the SME destination address parameters.
            The following TON values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddrNpi</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span>
            Defines the numeric plan indicator (NPI) to be used in the SME destination address
            parameters. The following NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddr</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td> Defines the address of SME (Short Message Entity) which originated this message. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddrTon</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p> Defines the type of number (TON) to be used in the SME originator address
            parameters. The following TON values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddrNpi</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p> Defines the numeric plan indicator (NPI) to be used in the SME originator address
            parameters. The following NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppServiceType</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td>
          <p> The service type parameter can be used to indicate the SMS Application service
            associated with the message. The following generic service_types are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">CMT</code>: Cellular Messaging</p></li><li class="listitem"><p><code class="literal">CPT</code>: Cellular Paging</p></li><li class="listitem"><p><code class="literal">VMN</code>: Voice Mail Notification</p></li><li class="listitem"><p><code class="literal">VMA</code>: Voice Mail Alerting</p></li><li class="listitem"><p><code class="literal">WAP</code>: Wireless Application Protocol</p></li><li class="listitem"><p><code class="literal">USSD</code>: Unstructured Supplementary Services Data</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppRegisteredDelivery</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for SubmitSm, ReplaceSm, SubmitMulti and
              DataSm</strong></span> Is used to request an SMSC delivery receipt and/or SME originated
            acknowledgements. The following values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: No SMSC delivery receipt requested.</p></li><li class="listitem"><p><code class="literal">1</code>: SMSC delivery receipt requested where final delivery
                outcome is success or failure.</p></li><li class="listitem"><p><code class="literal">2</code>: SMSC delivery receipt requested where the final delivery
                outcome is delivery failure.</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppPriorityFlag</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for SubmitSm and SubmitMulti</strong></span> Allows the
            originating SME to assign a priority level to the short message. Four Priority Levels
            are supported:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Level 0 (lowest) priority</p></li><li class="listitem"><p><code class="literal">1</code>: Level 1 priority</p></li><li class="listitem"><p><code class="literal">2</code>: Level 2 priority</p></li><li class="listitem"><p><code class="literal">3</code>: Level 3 (highest) priority</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppValidityPeriod</code>
        </td>
        <td><code class="literal">String</code>/{{Date}} </td>
        <td><span class="bold"><strong>only for SubmitSm, SubmitMulti and ReplaceSm</strong></span> The validity period parameter indicates the SMSC expiration time, after which the message should be discarded if not delivered to the destination. If it's provided as <code class="literal">Date</code>, it's interpreted as absolute time. <span class="bold"><strong>Camel 2.9.1 onwards:</strong></span> It can be defined in absolute time format or relative time format if you provide it as <code class="literal">String</code> as specified in chapter 7.1.1 in the smpp specification v3.4. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppReplaceIfPresentFlag</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for SubmitSm and SubmitMulti</strong></span> The replace if
            present flag parameter is used to request the SMSC to replace a previously submitted
            message, that is still pending delivery. The SMSC will replace an existing message
            provided that the source address, destination address and service type match the same
            fields in the new message. The following values are defined: </p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Don't replace</p></li><li class="listitem"><p><code class="literal">1</code>: Replace</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppAlphabet</code> / <code class="literal">CamelSmppDataCoding</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td><span class="bold"><strong>Camel 2.5</strong></span><span class="bold"><strong>For SubmitSm, SubmitMulti and ReplaceSm</strong></span> (Prior to <span class="bold"><strong>Camel 2.9</strong></span> use <code class="literal">CamelSmppDataCoding</code> instead of <code class="literal">CamelSmppAlphabet</code>.) The data coding according to the SMPP 3.4 specification, section 5.2.19.  Use the URI option <code class="literal">alphabet</code> settings above. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameters</code>
        </td>
        <td><code class="literal">Map&lt;String, String&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>Deprecated and will be removed in Camel 2.13.0/3.0.0</strong></span><span class="bold"><strong>Camel 2.10.5 and 2.11.1 onwards and only for SubmitSm, SubmitMulti and DataSm</strong></span> The optional parameters send back by the SMSC. </p>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameter</code>
        </td>
        <td><code class="literal">Map&lt;Short, Object&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.10.7 and 2.11.2 onwards and only for SubmitSm, SubmitMulti and DataSm</strong></span> The optional parameter which are send to the SMSC. The value is converted in the following way:

<code class="literal">String</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code><code class="literal">byte[]</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code><code class="literal">Byte</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code><code class="literal">Integer</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.Int</code><code class="literal">Short</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.Short</code><code class="literal">null</code> -&gt; <code class="literal">org.jsmpp.bean.OptionalParameter.Null</code>
          </p>
        </td>
      </tr><tr>
                <td><code class="literal">CamelSmppEncoding</code>
                </td>
                <td><code class="literal">String</code>
                </td>
                <td>
                    <p><span class="bold"><strong>Camel 2.14.1 and Camel 2.15.0:</strong></span> and only
                        for <code class="code">SubmitSm</code>, <code class="code">SubmitMulti</code> and <code class="code">DataSm</code>.
                        Specifies the encoding (character set name) of the bytes in the message
                        body. If the message body is a string then this is not relevant because Java
                        strings are always Unicode. If the body is a byte array then this header can
                        be used to indicate that it is ISO-8859-1 or some other value. Default value
                        is specified by the endpoint configuration parameter encoding. </p>
                </td>
            </tr><tr>
                <td><code class="literal">CamelSmppSplittingPolicy</code>
                </td>
                <td><code class="literal">String</code>
                </td>
                <td>
                    <p>
                        <span class="bold"><strong>Camel 2.14.1 and Camel 2.15.0:</strong></span> and only for
                            <code class="code">SubmitSm</code>, <code class="code">SubmitMulti</code> and <code class="code">DataSm</code>.
                        Specifies the policy for message splitting for this exchange. Possible
                        values are described in the endpoint configuration parameter
                            <code class="code">splittingPolicy</code>.</p>
                </td>
            </tr></table><p>The following message headers are used by the SMPP producer to set the response from the SMSC in the message header

    </p><table id="d0e160195"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelSmppId</code>
        </td>
        <td><code class="literal">List&lt;String&gt;</code>/{{String}} </td>
        <td> The id to identify the submitted short message(s) for later use. <span class="bold"><strong>From Camel 2.9.0</strong></span>: In case of a ReplaceSm, QuerySm, CancelSm and DataSm this header vaule is a <code class="literal">String</code>. In case of a SubmitSm or SubmitMultiSm this header vaule is a <code class="literal">List&lt;String&gt;</code>. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSentMessageCount</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>From Camel 2.9 onwards only for SubmitSm and SubmitMultiSm</strong></span> The total number of messages which has been sent. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppError</code>
        </td>
        <td><code class="literal">Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;</code>
        </td>
        <td><span class="bold"><strong>From Camel 2.9 onwards only for SubmitMultiSm</strong></span> The errors which occurred by sending the short message(s) the form <code class="literal">Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;</code> (messageID : (destAddr : address, error : errorCode)). </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameters</code>
        </td>
        <td><code class="literal">Map&lt;String, String&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>Deprecated and will be removed in Camel 2.13.0/3.0.0</strong></span><span class="bold"><strong>From Camel 2.11.1 onwards only for DataSm</strong></span> The optional parameters which are returned from the SMSC by sending the message. </p>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameter</code>
        </td>
        <td><code class="literal">Map&lt;Short, Object&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>From Camel 2.10.7, 2.11.2 onwards only for DataSm</strong></span> The optional parameter which are returned from the SMSC by sending the message. The key is the <code class="literal">Short</code> code for the optional parameter. The value is converted in the following way:

<code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code> -&gt; <code class="literal">String</code><code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code> -&gt; <code class="literal">byte[]</code><code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code> -&gt; <code class="literal">Byte</code><code class="literal">org.jsmpp.bean.OptionalParameter.Int</code> -&gt; <code class="literal">Integer</code><code class="literal">org.jsmpp.bean.OptionalParameter.Short</code> -&gt; <code class="literal">Short</code><code class="literal">org.jsmpp.bean.OptionalParameter.Null</code> -&gt; <code class="literal">null</code>
          </p>
        </td>
      </tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_ConsumerMessageHeaders"></a>Consumer Message Headers</h2></div></div></div><p>The following message headers are used by the SMPP consumer to set the request data from the SMSC in the message header

    </p><table width="964" id="d0e160352"><col width="294pt"><col width="208pt"><col width="454pt"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelSmppSequenceNumber</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span> A
          sequence number allows a response PDU to be correlated with a request PDU. The associated
          SMPP response PDU must preserve this field. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppCommandId</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span> The
          command id field identifies the particular SMPP PDU. For the complete list of defined
          values see chapter 5.1.2.1 in the smpp specification v3.4. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddr</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span>
          Defines the address of SME (Short Message Entity) which originated this message. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddrNpi</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for AlertNotification and DataSm</strong></span> Defines the
            numeric plan indicator (NPI) to be used in the SME originator address parameters. The
            following NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSourceAddrTon</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for AlertNotification and DataSm</strong></span> Defines the
            type of number (TON) to be used in the SME originator address parameters. The following
            TON values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppEsmeAddr</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for AlertNotification</strong></span> Defines the destination ESME
          address. For mobile terminated messages, this is the directory number of the recipient MS.
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppEsmeAddrNpi</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for alert notification</strong></span>: Defines the numeric
            plan indicator (NPI) to be used in the ESME originator address parameters. The following
            NPI values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppEsmeAddrTon</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for alert notification</strong></span>: Defines the type of
            number (TON) to be used in the ESME originator address parameters. The following TON
            values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppId</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt and DataSm</strong></span> The message ID
          allocated to the message by the SMSC when originally submitted. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDelivered</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt</strong></span> Number of short messages
          delivered. This is only relevant where the original message was submitted to a
          distribution list.The value is padded with leading zeros if necessary. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDoneDate</code>
        </td>
        <td><code class="literal">Date</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt</strong></span> The time and date at
          which the short message reached it's final state. The format is as follows: YYMMDDhhmm.
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppStatus</code>
                </td>
        <td><code class="literal">DeliveryReceiptState</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for smsc DeliveryReceipt:</strong></span> The final status of
            the message. The following values are defined: <code class="literal">DELIVRD</code>: Message is
            delivered to destination <code class="literal">EXPIRED</code>: Message validity period has
            expired. <code class="literal">DELETED</code>: Message has been deleted.
              <code class="literal">UNDELIV</code>: Message is undeliverable <code class="literal">ACCEPTD</code>:
            Message is in accepted state (i.e. has been manually read on behalf of the subscriber by
            customer service) <code class="literal">UNKNOWN</code>: Message is in invalid state
              <code class="literal">REJECTD</code>: Message is in a rejected state </p>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppCommandStatus</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>only for DataSm</strong></span> The Command status of the message.
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppError</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt</strong></span> Where appropriate this
          may hold a Network specific error code or an SMSC error code for the attempted delivery of
          the message. These errors are Network or SMSC specific and are not included here. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSubmitDate</code>
        </td>
        <td><code class="literal">Date</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt</strong></span> The time and date at
          which the short message was submitted. In the case of a message which has been replaced,
          this is the date that the original message was replaced. The format is as follows:
          YYMMDDhhmm. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppSubmitted</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td><span class="bold"><strong>only for smsc DeliveryReceipt</strong></span> Number of short messages
          originally submitted. This is only relevant when the original message was submitted to a
          distribution list.The value is padded with leading zeros if necessary. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddr</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for DeliverSm and DataSm:</strong></span> Defines the destination
          SME address. For mobile terminated messages, this is the directory number of the recipient
          MS. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppScheduleDeliveryTime</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for DeliverSm:</strong></span> This parameter specifies the
          scheduled time at which the message delivery should be first attempted. It defines either
          the absolute date and time or relative time from the current SMSC time at which delivery
          of this message will be attempted by the SMSC. It can be specified in either absolute time
          format or relative time format. The encoding of a time format is specified in Section
          7.1.1. in the smpp specification v3.4. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppValidityPeriod</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td><span class="bold"><strong>only for DeliverSm</strong></span> The validity period parameter
          indicates the SMSC expiration time, after which the message should be discarded if not
          delivered to the destination. It can be defined in absolute time format or relative time
          format. The encoding of absolute and relative time format is specified in Section 7.1.1 in
          the smpp specification v3.4. </td>
      </tr><tr>
        <td><code class="literal">CamelSmppServiceType</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for DeliverSm and DataSm</strong></span> The service type
            parameter can be used to indicate the SMS Application service associated with the
            message. The following generic service_types are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">CMT</code>: Cellular Messaging</p></li><li class="listitem"><p><code class="literal">CPT</code>: Cellular Paging</p></li><li class="listitem"><p><code class="literal">VMN</code>: Voice Mail Notification</p></li><li class="listitem"><p><code class="literal">VMA</code>: Voice Mail Alerting</p></li><li class="listitem"><p><code class="literal">WAP</code>: Wireless Application Protocol</p></li><li class="listitem"><p><code class="literal">USSD</code>: Unstructured Supplementary Services Data</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppRegisteredDelivery</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for DataSm</strong></span> Is used to request an SMSC delivery
            receipt and/or SME originated acknowledgements. The following values are defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: No SMSC delivery receipt requested.</p></li><li class="listitem"><p><code class="literal">1</code>: SMSC delivery receipt requested where final delivery
                outcome is success or failure.</p></li><li class="listitem"><p><code class="literal">2</code>: SMSC delivery receipt requested where the final delivery
                outcome is delivery failure.</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddrNpi</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for DataSm</strong></span> Defines the numeric plan indicator
            (NPI) to be used in the SME destination address parameters. The following NPI values are
            defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: ISDN (E163/E164)</p></li><li class="listitem"><p><code class="literal">2</code>: Data (X.121)</p></li><li class="listitem"><p><code class="literal">3</code>: Telex (F.69)</p></li><li class="listitem"><p><code class="literal">6</code>: Land Mobile (E.212)</p></li><li class="listitem"><p><code class="literal">8</code>: National</p></li><li class="listitem"><p><code class="literal">9</code>: Private</p></li><li class="listitem"><p><code class="literal">10</code>: ERMES</p></li><li class="listitem"><p><code class="literal">13</code>: Internet (IP)</p></li><li class="listitem"><p><code class="literal">18</code>: WAP Client Id (to be defined by WAP Forum)</p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppDestAddrTon</code>
        </td>
        <td><code class="literal">Byte</code>
        </td>
        <td>
          <p><span class="bold"><strong>only for DataSm</strong></span> Defines the type of number (TON) to
            be used in the SME destination address parameters. The following TON values are
            defined:</p>
          <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">0</code>: Unknown</p></li><li class="listitem"><p><code class="literal">1</code>: International</p></li><li class="listitem"><p><code class="literal">2</code>: National</p></li><li class="listitem"><p><code class="literal">3</code>: Network Specific</p></li><li class="listitem"><p><code class="literal">4</code>: Subscriber Number</p></li><li class="listitem"><p><code class="literal">5</code>: Alphanumeric</p></li><li class="listitem"><p><code class="literal">6</code>: Abbreviated </p></li></ul></div>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppMessageType</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.6 onwards</strong></span>: Identifies the type of an
            incoming message: <code class="literal">AlertNotification</code>: an SMSC alert notification
              <code class="literal">DataSm</code>: an SMSC data short message
              <code class="literal">DeliveryReceipt</code>: an SMSC delivery receipt
              <code class="literal">DeliverSm</code>: an SMSC deliver short message </p>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameters</code>
        </td>
        <td><code class="literal">Map&lt;String, Object&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>Deprecated and will be removed in Camel
              2.13.0/3.0.0</strong></span><span class="bold"><strong>Camel 2.10.5 onwards and only for
              DeliverSm</strong></span> The optional parameters send back by the SMSC. </p>
        </td>
      </tr><tr>
        <td><code class="literal">CamelSmppOptionalParameter</code>
        </td>
        <td><code class="literal">Map&lt;Short, Object&gt;</code>
        </td>
        <td>
          <p><span class="bold"><strong>Camel 2.10.7, 2.11.2 onwards and only for DeliverSm</strong></span>
            The optional parameters send back by the SMSC. The key is the <code class="literal">Short</code>
            code for the optional parameter. The value is converted in the following way:
              <code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code> -&gt;
              <code class="literal">String</code><code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code>
            -&gt; <code class="literal">byte[]</code><code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code> -&gt;
              <code class="literal">Byte</code><code class="literal">org.jsmpp.bean.OptionalParameter.Int</code> -&gt;
              <code class="literal">Integer</code><code class="literal">org.jsmpp.bean.OptionalParameter.Short</code> -&gt;
              <code class="literal">Short</code><code class="literal">org.jsmpp.bean.OptionalParameter.Null</code> -&gt;
              <code class="literal">null</code>
          </p>
        </td>
      </tr></table><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: JSMPP library"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="imagesdb/tip.png"></td><th align="left">JSMPP library</th></tr><tr><td align="left" valign="top"><p>See the documentation of the <a class="link" href="http://code.google.com/p/jsmpp/" target="_top">JSMPP Library</a> for more details about the underlying library.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_Exceptionhandling"></a>Exception handling</h2></div></div></div><p>This component supports the general Camel exception handling capabilities.</p><p>When an error occurs sending a message with <code class="code">SubmitSm</code> (the default
            action), the <code class="code">org.apache.camel.component.smpp.SmppException</code> is thrown with a
            nested exception, <code class="code">org.jsmpp.extra.NegativeResponseException</code>. Call
                <code class="code">NegativeResponseException.getCommandStatus()</code> to obtain the exact SMPP
            negative response code, the values are explained in the SMPP specification 3.4, section
            5.1.3.</p><p><span class="bold"><strong>Camel 2.8 onwarts</strong></span>: When the SMPP consumer receives a
                <code class="literal">DeliverSm</code> or <code class="literal">DataSm</code> short message and the
            processing of these messages fails, you can also throw a
                <code class="literal">ProcessRequestException</code> instead of handle the failure. In this
            case, this exception is forwarded to the underlying <a class="link" href="http://code.google.com/p/jsmpp/" target="_top">JSMPP library</a> which will return the
            included error code to the SMSC. This feature is useful to e.g. instruct the SMSC to
            resend the short message at a later time. This could be done with the following lines of
            code:</p><pre class="programlisting">from("smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer")
   .doTry()
     .to("bean:dao?method=updateSmsState")
   .doCatch(Exception.class)
     .throwException(new ProcessRequestException("update of sms state failed", 100))
   .end();</pre><p>Please refer to the <a class="link" href="http://smsforum.net/SMPP_v3_4_Issue1_2.zip" target="_top">SMPP specification</a> for the complete list of error codes and their meanings.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_Samples"></a>Samples</h2></div></div></div><p>A route which sends an SMS using the Java DSL:</p><pre class="programlisting">from("direct:start")
  .to("smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=producer");</pre><p>A route which sends an SMS using the Spring XML DSL:</p><pre class="programlisting">&lt;route&gt;
  &lt;from uri="direct:start"/&gt;
  &lt;to uri="smpp://smppclient@localhost:2775?password=password&amp;nquireLinkTimer=3000&amp;ransactionTimer=5000&amp;ystemType=producer"/&gt;
&lt;/route&gt;</pre><p>A route which receives an SMS using the Java DSL:</p><pre class="programlisting">from("smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer")
  .to("bean:foo");</pre><p>A route which receives an SMS using the Spring XML DSL:</p><pre class="programlisting">  &lt;route&gt;
     &lt;from uri="smpp://smppclient@localhost:2775?password=password&amp;nquireLinkTimer=3000&amp;ransactionTimer=5000&amp;ystemType=consumer"/&gt;
     &lt;to uri="bean:foo"/&gt;
  &lt;/route&gt;</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: SMSC simulator"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="imagesdb/tip.png"></td><th align="left">SMSC simulator</th></tr><tr><td align="left" valign="top"><p>If you need an SMSC simulator for your test, you can use the simulator provided by <a class="link" href="http://opensmpp.logica.com/CommonPart/Download/download2.html#simulator" target="_top">Logica</a>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-SMPP_HSH_Debuglogging"></a>Debug logging</h2></div></div></div><p>This component has log level <span class="bold"><strong>DEBUG</strong></span>, which can be helpful
      in debugging problems. If you use log4j, you can add the following line to your
      configuration:</p><pre class="programlisting">log4j.logger.org.apache.camel.component.smpp=DEBUG</pre></div></div></body></html>
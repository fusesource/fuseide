<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Docker component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="DNS-DNS.html" title="DNS"><link rel="next" href="Dozer-Dozer.html" title="Dozer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="Docker-CamelDockercomponent"></a>Docker component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="Docker-CamelDockercomponent.html#Docker-URIformat">URI format</a></span></dt><dt><span class="section"><a href="Docker-CamelDockercomponent.html#Docker-Options">General Options</a></span></dt><dt><span class="section"><a href="Docker-CamelDockercomponent.html#Docker-HeaderStrategy">Header Strategy</a></span></dt><dt><span class="section"><a href="Docker-CamelDockercomponent.html#Docker-Examples">Examples</a></span></dt><dt><span class="section"><a href="Docker-CamelDockercomponent.html#Docker-Dependencies">Dependencies</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel 2.15</strong></span></p><p>Camel component for communicating with Docker.</p><p>The Docker Camel component leverages the
<a class="link" href="https://github.com/docker-java/docker-java" target="_top">docker-java</a>&nbsp;via the
<a class="link" href="https://docs.docker.com/reference/api/docker_remote_api" target="_top">Docker Remote
API</a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Docker-URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">docker:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//[operation]?[options]</em></pre><p>Where <span class="strong"><strong>operation</strong></span> is the specific action to perform on Docker.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Docker-Options"></a>General Options</h2></div></div></div><p>The Docker component supports 1 options which are listed below.</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="11%" class="col_2"><col width="70%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>configuration</p></td><td align="left" valign="top"><p><code class="literal">DockerConfiguration</code></p></td><td align="left" valign="top"><p>To use the shared docker configuration</p></td></tr></tbody></table></div><p>{% endraw %}</p><p>The Docker component supports 20 endpoint options which are listed below:</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="10%" class="col_2"><col width="11%" class="col_3"><col width="10%" class="col_4"><col width="50%" class="col_5"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Group</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>operation</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">DockerOperation</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Which operation to use</p></td></tr><tr><td align="left" valign="top"><p>email</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Email address associated with the user</p></td></tr><tr><td align="left" valign="top"><p>host</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">localhost</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Docker host</p></td></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">2375</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Docker port</p></td></tr><tr><td align="left" valign="top"><p>requestTimeout</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Request timeout for response (in seconds)</p></td></tr><tr><td align="left" valign="top"><p>bridgeErrorHandler</p></td><td align="left" valign="top"><p>consumer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler which mean any exceptions occurred while the consumer is trying to pickup incoming messages or the likes will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exceptionHandler</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExceptionHandler</code></p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exchangePattern</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExchangePattern</code></p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td></tr><tr><td align="left" valign="top"><p>followRedirectFilter</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether to follow redirect filter</p></td></tr><tr><td align="left" valign="top"><p>loggingFilter</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether to use logging filter</p></td></tr><tr><td align="left" valign="top"><p>maxPerRouteConnections</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">100</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Maximum route connections</p></td></tr><tr><td align="left" valign="top"><p>maxTotalConnections</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">100</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Maximum total connections</p></td></tr><tr><td align="left" valign="top"><p>serverAddress</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal"><a class="link" href="https://index.docker.io/v1/" target="_top">https://index.docker.io/v1/</a></code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Server address for docker registry.</p></td></tr><tr><td align="left" valign="top"><p>socket</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Socket connection mode</p></td></tr><tr><td align="left" valign="top"><p>synchronous</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td></tr><tr><td align="left" valign="top"><p>certPath</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Location containing the SSL certificate chain</p></td></tr><tr><td align="left" valign="top"><p>password</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Password to authenticate with</p></td></tr><tr><td align="left" valign="top"><p>secure</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Use HTTPS communication</p></td></tr><tr><td align="left" valign="top"><p>tlsVerify</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Check TLS</p></td></tr><tr><td align="left" valign="top"><p>username</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>User name to authenticate with</p></td></tr></tbody></table></div><p>{% endraw %}</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Docker-HeaderStrategy"></a>Header Strategy</h2></div></div></div><p>All URI option can be passed as Header properties. Values found in a
message header take precedence over URI parameters. A header property
takes the form of a URI option prefixed with <span class="strong"><strong>CamelDocker</strong></span> as shown
below</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="50%" class="col_1"><col width="50%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">URI Option</th><th align="left" valign="top">Header Property</th></tr></thead><tbody><tr><td align="left" valign="top"><p>containerId</p></td><td align="left" valign="top"><p>CamelDockerContainerId</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Docker-Examples"></a>Examples</h2></div></div></div><p>The following example consumes events from Docker:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"docker://events?host=192.168.59.103&amp;port=2375"</em></strong>).to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"log:event"</em></strong>);</pre><p>The following example queries Docker for system wide information</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"docker://info?host=192.168.59.103&amp;port=2375"</em></strong>).to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"log:info"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Docker-Dependencies"></a>Dependencies</h2></div></div></div><p>To use Docker in your Camel routes you need to add a dependency on
<span class="strong"><strong>camel-docker</strong></span>, which implements the component.</p><p>If you use Maven you can just add the following to your pom.xml,
substituting the version number for the latest and greatest release (see
<a class="link" href="download.html" target="_top">the download page for the latest versions</a>).</p><pre class="programlisting">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-docker&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
&lt;/dependency&gt;</pre></div></div></body></html>
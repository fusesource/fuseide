<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Predicates</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="Simple.html" title="The Simple Language"><link rel="prev" href="Simple-Expressions.html" title="Expressions"><link rel="next" href="Simple-Variables.html" title="Variable Reference"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Simple-Predicates"></a>Predicates</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="topic-33950"></a>Overview</h3></div></div></div><p>You can construct predicates by testing expressions for equality. For example, the
                predicate, <code class="literal">simple("${header.timeOfDay} == '14:30'")</code>, tests
                whether the <code class="literal">timeOfDay</code> header in the incoming message is equal to
                    <code class="literal">14:30</code>.</p><p>In addition, whenever the <code class="code">resultType</code> is specified as a Boolean the
		expression is evaluated as a predicate instead of an expression.  This allows
		the predicate syntax to be used for these expressions.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="topic-33951"></a>Syntax</h3></div></div></div><p>You can also test various parts of an exchange (headers, message body, and so on)
                using simple predicates. Simple predicates have the following general syntax:</p><pre class="programlisting">${<em class="replaceable"><code>LHSVariable</code></em>} <em class="replaceable"><code>Op</code></em> <em class="replaceable"><code>RHSValue</code></em></pre><p>Where the variable on the left hand side, <em class="replaceable"><code>LHSVariable</code></em>,
                is one of the variables shown in <a class="xref" href="Simple-Variables.html#FMRS.Dsl.TableVSL" title="Table&nbsp;12.&nbsp;Variables for the Simple Language">Table&nbsp;12, &#8220;Variables for the Simple Language&#8221;</a> and the value
                on the right hand side, <em class="replaceable"><code>RHSValue</code></em>, is one of the
                following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Another variable,
                            <code class="code">${</code><em class="replaceable"><code>RHSVariable</code></em><code class="code">}</code>.</p></li><li class="listitem"><p>A string literal, enclosed in single quotes, <code class="code">' '</code>.</p></li><li class="listitem"><p>A numeric constant, enclosed in single quotes, <code class="code">' '</code>.</p></li><li class="listitem"><p>The null object, <code class="code">null</code>.</p></li></ul></div><p>The simple language always attempts to convert the RHS value to the type of the
                LHS value.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>While the simple language will attempt to convert the RHS, depending on the
	        operator the LHS may need to be cast into the appropriate Type before the comparison
	        is made.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="topic-33952"></a>Examples</h3></div></div></div><p>For example, you can perform simple string comparisons and numerical comparisons
                as follows:</p><pre class="programlisting">simple("${in.header.user} == 'john'")

simple("${in.header.number} &gt; '100'")  // String literal can be converted to integer</pre><p>You can test whether the left hand side is a member of a comma-separated list, as
                follows:</p><pre class="programlisting">simple("${in.header.type} in 'gold,silver'")</pre><p>You can test whether the left hand side matches a regular expression, as
                follows:</p><pre class="programlisting">simple("${in.header.number} regex '\d{4}'")</pre><p>You can test the type of the left hand side using the <code class="code">is</code> operator, as
                follows:</p><pre class="programlisting">simple("${in.header.type} is 'java.lang.String'")
simple("${in.header.type} is 'String'") // You can abbreviate java.lang. types</pre><p>You can test whether the left hand side lies in a specified numerical range (where
                the range is inclusive), as follows:</p><pre class="programlisting">simple("${in.header.number} range '100..199'")</pre></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="topic-33953"></a>Conjunctions</h3></div></div></div><p>You can also combine predicates using the logical conjunctions,
                    <code class="code">&amp;&amp;</code> and <code class="code">||</code>.</p><p>For example, here is an expression using the <code class="code">&amp;&amp;</code> conjunction
                (logical and):</p><pre class="programlisting">simple("${in.header.title} contains 'Camel' &amp;&amp; ${in.header.type} == 'gold'")</pre><p>And here is an expression using the <code class="code">||</code> conjunction (logical inclusive
                or):</p><pre class="programlisting">simple("${in.header.title} contains 'Camel' || ${in.header.type} == 'gold'")</pre></div></div></body></html>
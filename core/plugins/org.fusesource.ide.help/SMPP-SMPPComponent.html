<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>SMPP Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="Slack-SlackComponent.html" title="Slack Component"><link rel="next" href="SNMP-SNMPComponent.html" title="SNMP Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="SMPP-SMPPComponent"></a>SMPP Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-SMSlimitations">SMS limitations</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-Datacoding">Data coding, alphabet and international character sets</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-Messagesplittingandthrottling">Message splitting and throttling</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-URIformat">URI format</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-URIOptions">URI Options</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-ProducerMessageHeaders">Producer Message Headers</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-ConsumerMessageHeaders">Consumer Message Headers</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-Exceptionhandling">Exception handling</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-Samples">Samples</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-Debuglogging">Debug logging</a></span></dt><dt><span class="section"><a href="SMPP-SMPPComponent.html#SMPP-SeeAlso">See Also</a></span></dt></dl></div><p><span class="strong"><strong>CamelSmppFinalStatusAvailable as of Camel 2.2</strong></span></p><p>This component provides access to an SMSC (Short Message Service Center)
over the <a class="link" href="http://smsforum.net/SMPP_v3_4_Issue1_2.zip" target="_top">SMPP</a> protocol to
send and receive SMS. The <a class="link" href="http://jsmpp.org" target="_top">JSMPP</a> library is used for
the protocol implementation.</p><p>The Camel component currently operates as an
<a class="link" href="http://en.wikipedia.org/wiki/ESME" target="_top">ESME</a> (External Short Messaging
Entity) and not as an SMSC itself.</p><p>Starting with*Camel 2.9*&nbsp;you are also able to execute ReplaceSm,
QuerySm, SubmitMulti, CancelSm and DataSm.</p><p>Maven users will need to add the following dependency to their <code class="literal">pom.xml</code>
for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-smpp<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-SMSlimitations"></a>SMS limitations</h2></div></div></div><p>SMS is neither reliable or secure.&nbsp; Users who require reliable and
secure delivery may want to consider using the XMPP or SIP components
instead, combined with a smartphone app supporting the chosen protocol.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Reliability: although the SMPP standard offers a range of feedback
mechanisms to indicate errors, non-delivery and confirmation of delivery
it is not uncommon for mobile networks to hide or simulate these
responses.&nbsp; For example, some networks automatically send a delivery
confirmation for every message even if the destination number is invalid
or not switched on.&nbsp; Some networks silently drop messages if they think
they are spam.&nbsp; Spam detection rules in the network may be very crude,
sometimes more than 100 messages per day from a single sender may be
considered spam.</li><li class="listitem">Security: there is basic encryption for the last hop from the radio
tower down to the recipient handset.&nbsp; SMS messages are not encrypted or
authenticated in any other part of the network.&nbsp; Some operators allow
staff in retail outlets or call centres to browse through the SMS
message histories of their customers.&nbsp; Message sender identity can be
easily forged.&nbsp; Regulators and even the mobile telephone industry itself
has cautioned against the use of SMS in two-factor authentication
schemes and other purposes where security is important.</li></ul></div><p>While the Camel component makes it as easy as possible to send messages
to the SMS network, it can not offer an easy solution to these problems.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-Datacoding"></a>Data coding, alphabet and international character sets</h2></div></div></div><p>Data coding and alphabet can be specified on a per-message basis.&nbsp;
Default values can be specified for the endpoint.&nbsp; It is important to
understand the relationship between these options and the way the
component acts when more than one value is set.</p><p>Data coding is an 8 bit field in the SMPP wire format.</p><p>Alphabet corresponds to bits 0-3 of the data coding field.&nbsp; For some
types of message, where a message class is used (by setting bit 5 of the
data coding field), the lower two bits of the data coding field are not
interpreted as alphabet and only bits 2 and 3 impact the alphabet.</p><p>Furthermore, current version of the JSMPP library only seems to support
bits 2 and 3, assuming that bits 0 and 1 are used for message class.&nbsp;
This is why the Alphabet class in JSMPP doesn&#8217;t support the value 3
(binary 0011) which indicates ISO-8859-1.</p><p>Although JSMPP provides a representation of the message class parameter,
the Camel component doesn&#8217;t currently provide a way to set it other than
manually setting the corresponding bits in the data coding field.</p><p>When setting the data coding field in the outgoing message, the Camel
component considers the following values and uses the first one it can
find:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">the data coding specified in a header</li><li class="listitem">the alphabet specified in a header</li><li class="listitem">the data coding specified in the endpoint configuration (URI
parameter)</li></ul></div><p>Older versions of Camel had bugs in support for international character
sets.&nbsp; This feature only worked when a single encoding was used for all
messages and was troublesome when users wanted to change it on a
per-message basis.&nbsp; Users who require this to work should ensure their
version of Camel includes the fix for&nbsp;</p><p>JIRA Issues Macro: com.atlassian.sal.api.net.ResponseStatusException:
Unexpected response received. Status code: 404</p><p>.</p><p>In addition to trying to send the data coding value to the SMSC, the
Camel component also tries to analyze the message body, convert it to a
Java String (Unicode) and convert that to a byte array in the
corresponding alphabet&nbsp; When deciding which alphabet to use in the byte
array, the Camel SMPP component does not consider the data coding value
(header or configuration), it only considers the specified alphabet
(from either the header or endpoint parameter).</p><p>If some characters in the String can&#8217;t be represented in the chosen
alphabet, they may be replaced by the question mark ( ? ) symbol.&nbsp; Users
of the API may want to consider checking if their message body can be
converted to ISO-8859-1 before passing it to the component and if not,
setting the alphabet header to request UCS-2 encoding.&nbsp; If the alphabet
and data coding options are not specified at all then the component may
try to detect the required encoding and set the data coding for you.</p><p>The list of alphabet codes are specified in the SMPP specification v3.4,
section 5.2.19.&nbsp; One notable limitation of the SMPP specification is
that there is no alphabet code for explicitly requesting use of the GSM
3.38 (7 bit) character set.&nbsp; Choosing the value 0 for the alphabet
selects the SMSC <span class="emphasis"><em>default</em></span> alphabet, this usually means GSM 3.38 but it
is not guaranteed.&nbsp; The SMPP gateway Nexmo
<a class="link" href="https://help.nexmo.com/hc/en-us/articles/204015813-How-to-change-the-character-encoding-in-SMPP-" target="_top">actually
allows the default to be mapped to any other character set with a
control panel option</a>. It is suggested that users check with their SMSC
operator to confirm exactly which character set is being used as the
default.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-Messagesplittingandthrottling"></a>Message splitting and throttling</h2></div></div></div><p>After transforming a message body from a String to a byte array, the
Camel component is also responsible for splitting the message into parts
(within the 140 byte SMS size limit) before passing it to JSMPP.&nbsp; This
is completed automatically.</p><p>If the GSM 3.38 alphabet is used, the component will pack up to 160
characters into the 140 byte message body.&nbsp; If an 8 bit character set is
used (e.g. ISO-8859-1 for western Europe) then 140 characters will be
allowed within the 140 byte message body.&nbsp; If 16 bit UCS-2 encoding is
used then just 70 characters fit into each 140 byte message.</p><p>Some SMSC providers implement throttling rules.&nbsp; Each part of a message
that has been split may be counted separately by the provider&#8217;s
throttling mechanism.&nbsp; The Camel Throttler component can be useful for
throttling messages in the SMPP route before handing them to the SMSC.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">smpp:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//[username@]hostname[:port][?options]</em>
smpps:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//[username@]hostname[:port][?options]</em></pre><p>If no <span class="strong"><strong>username</strong></span> is provided, then Camel will provide the default value
<code class="literal">smppclient</code>.
 If no <span class="strong"><strong>port</strong></span> number is provided, then Camel will provide the default
value <code class="literal">2775</code>.
 <span class="strong"><strong>Camel 2.3:</strong></span> If the protocol name is "smpps", camel-smpp with try to
use SSLSocket to init a connection to the server.</p><p>You can append query options to the URI in the following format,
<code class="literal">?option=value&amp;option=value&amp;&#8230;&#8203;</code></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-URIOptions"></a>URI Options</h2></div></div></div><p>The SMPP component supports 1 options which are listed below.</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="11%" class="col_2"><col width="70%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>configuration</p></td><td align="left" valign="top"><p><code class="literal">SmppConfiguration</code></p></td><td align="left" valign="top"><p>To use the shared SmppConfiguration as configuration.</p></td></tr></tbody></table></div><p>{% endraw %}</p><p>The SMPP component supports 40 endpoint options which are listed below:</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="10%" class="col_2"><col width="11%" class="col_3"><col width="10%" class="col_4"><col width="50%" class="col_5"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Group</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>host</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">localhost</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Hostname for the SMSC server to use.</p></td></tr><tr><td align="left" valign="top"><p>port</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">2775</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Port number for the SMSC server to use.</p></td></tr><tr><td align="left" valign="top"><p>initialReconnectDelay</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">5000</code></p></td><td align="left" valign="top"><p><code class="literal">long</code></p></td><td align="left" valign="top"><p>Defines the initial delay in milliseconds after the consumer/producer tries to reconnect to the SMSC after the connection was lost.</p></td></tr><tr><td align="left" valign="top"><p>maxReconnect</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">2147483647</code></p></td><td align="left" valign="top"><p><code class="literal">int</code></p></td><td align="left" valign="top"><p>Defines the maximum number of attempts to reconnect to the SMSC if SMSC returns a negative bind response</p></td></tr><tr><td align="left" valign="top"><p>reconnectDelay</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">5000</code></p></td><td align="left" valign="top"><p><code class="literal">long</code></p></td><td align="left" valign="top"><p>Defines the interval in milliseconds between the reconnect attempts if the connection to the SMSC was lost and the previous was not succeed.</p></td></tr><tr><td align="left" valign="top"><p>splittingPolicy</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">ALLOW</code></p></td><td align="left" valign="top"><p><code class="literal">SmppSplittingPolicy</code></p></td><td align="left" valign="top"><p>You can specify a policy for handling long messages: ALLOW - the default long messages are split to 140 bytes per message TRUNCATE - long messages are split and only the first fragment will be sent to the SMSC. Some carriers drop subsequent fragments so this reduces load on the SMPP connection sending parts of a message that will never be delivered. REJECT - if a message would need to be split it is rejected with an SMPP NegativeResponseException and the reason code signifying the message is too long.</p></td></tr><tr><td align="left" valign="top"><p>systemType</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">cp</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>This parameter is used to categorize the type of ESME (External Short Message Entity) that is binding to the SMSC (max. 13 characters).</p></td></tr><tr><td align="left" valign="top"><p>addressRange</p></td><td align="left" valign="top"><p>consumer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>You can specify the address range for the SmppConsumer as defined in section 5.2.7 of the SMPP 3.4 specification. The SmppConsumer will receive messages only from SMSC&#8217;s which target an address (MSISDN or IP address) within this range.</p></td></tr><tr><td align="left" valign="top"><p>bridgeErrorHandler</p></td><td align="left" valign="top"><p>consumer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler which mean any exceptions occurred while the consumer is trying to pickup incoming messages or the likes will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exceptionHandler</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExceptionHandler</code></p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exchangePattern</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExchangePattern</code></p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td></tr><tr><td align="left" valign="top"><p>destAddr</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">1717</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Defines the destination SME address. For mobile terminated messages this is the directory number of the recipient MS. Only for SubmitSm SubmitMulti CancelSm and DataSm.</p></td></tr><tr><td align="left" valign="top"><p>destAddrNpi</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the type of number (TON) to be used in the SME destination address parameters. Only for SubmitSm SubmitMulti CancelSm and DataSm. The following NPI values are defined: 0: Unknown 1: ISDN (E163/E164) 2: Data (X.121) 3: Telex (F.69) 6: Land Mobile (E.212) 8: National 9: Private 10: ERMES 13: Internet (IP) 18: WAP Client Id (to be defined by WAP Forum)</p></td></tr><tr><td align="left" valign="top"><p>destAddrTon</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the type of number (TON) to be used in the SME destination address parameters. Only for SubmitSm SubmitMulti CancelSm and DataSm. The following TON values are defined: 0: Unknown 1: International 2: National 3: Network Specific 4: Subscriber Number 5: Alphanumeric 6: Abbreviated</p></td></tr><tr><td align="left" valign="top"><p>lazySessionCreation</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sessions can be lazily created to avoid exceptions if the SMSC is not available when the Camel producer is started. Camel will check the in message headers 'CamelSmppSystemId' and 'CamelSmppPassword' of the first exchange. If they are present Camel will use these data to connect to the SMSC.</p></td></tr><tr><td align="left" valign="top"><p>numberingPlanIndicator</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the numeric plan indicator (NPI) to be used in the SME. The following NPI values are defined: 0: Unknown 1: ISDN (E163/E164) 2: Data (X.121) 3: Telex (F.69) 6: Land Mobile (E.212) 8: National 9: Private 10: ERMES 13: Internet (IP) 18: WAP Client Id (to be defined by WAP Forum)</p></td></tr><tr><td align="left" valign="top"><p>priorityFlag</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Allows the originating SME to assign a priority level to the short message. Only for SubmitSm and SubmitMulti. Four Priority Levels are supported: 0: Level 0 (lowest) priority 1: Level 1 priority 2: Level 2 priority 3: Level 3 (highest) priority</p></td></tr><tr><td align="left" valign="top"><p>protocolId</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>The protocol id</p></td></tr><tr><td align="left" valign="top"><p>registeredDelivery</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Is used to request an SMSC delivery receipt and/or SME originated acknowledgements. The following values are defined: 0: No SMSC delivery receipt requested. 1: SMSC delivery receipt requested where final delivery outcome is success or failure. 2: SMSC delivery receipt requested where the final delivery outcome is delivery failure.</p></td></tr><tr><td align="left" valign="top"><p>replaceIfPresentFlag</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Used to request the SMSC to replace a previously submitted message that is still pending delivery. The SMSC will replace an existing message provided that the source address destination address and service type match the same fields in the new message. The following replace if present flag values are defined: 0: Don&#8217;t replace 1: Replace</p></td></tr><tr><td align="left" valign="top"><p>serviceType</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">CMT</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The service type parameter can be used to indicate the SMS Application service associated with the message. The following generic service_types are defined: CMT: Cellular Messaging CPT: Cellular Paging VMN: Voice Mail Notification VMA: Voice Mail Alerting WAP: Wireless Application Protocol USSD: Unstructured Supplementary Services Data</p></td></tr><tr><td align="left" valign="top"><p>sourceAddr</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">1616</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Defines the address of SME (Short Message Entity) which originated this message.</p></td></tr><tr><td align="left" valign="top"><p>sourceAddrNpi</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the numeric plan indicator (NPI) to be used in the SME originator address parameters. The following NPI values are defined: 0: Unknown 1: ISDN (E163/E164) 2: Data (X.121) 3: Telex (F.69) 6: Land Mobile (E.212) 8: National 9: Private 10: ERMES 13: Internet (IP) 18: WAP Client Id (to be defined by WAP Forum)</p></td></tr><tr><td align="left" valign="top"><p>sourceAddrTon</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the type of number (TON) to be used in the SME originator address parameters. The following TON values are defined: 0: Unknown 1: International 2: National 3: Network Specific 4: Subscriber Number 5: Alphanumeric 6: Abbreviated</p></td></tr><tr><td align="left" valign="top"><p>typeOfNumber</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the type of number (TON) to be used in the SME. The following TON values are defined: 0: Unknown 1: International 2: National 3: Network Specific 4: Subscriber Number 5: Alphanumeric 6: Abbreviated</p></td></tr><tr><td align="left" valign="top"><p>enquireLinkTimer</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">5000</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Defines the interval in milliseconds between the confidence checks. The confidence check is used to test the communication path between an ESME and an SMSC.</p></td></tr><tr><td align="left" valign="top"><p>sessionStateListener</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">SessionStateListener</code></p></td><td align="left" valign="top"><p>You can refer to a org.jsmpp.session.SessionStateListener in the Registry to receive callbacks when the session state changed.</p></td></tr><tr><td align="left" valign="top"><p>synchronous</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td></tr><tr><td align="left" valign="top"><p>transactionTimer</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">10000</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>Defines the maximum period of inactivity allowed after a transaction after which an SMPP entity may assume that the session is no longer active. This timer may be active on either communicating SMPP entity (i.e. SMSC or ESME).</p></td></tr><tr><td align="left" valign="top"><p>alphabet</p></td><td align="left" valign="top"><p>codec</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines encoding of data according the SMPP 3.4 specification section 5.2.19. 0: SMSC Default Alphabet 4: 8 bit Alphabet 8: UCS2 Alphabet</p></td></tr><tr><td align="left" valign="top"><p>dataCoding</p></td><td align="left" valign="top"><p>codec</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">byte</code></p></td><td align="left" valign="top"><p>Defines the data coding according the SMPP 3.4 specification section 5.2.19. Example data encodings are: 0: SMSC Default Alphabet 3: Latin 1 (ISO-8859-1) 4: Octet unspecified (8-bit binary) 8: UCS2 (ISO/IEC-10646) 13: Extended Kanji JIS(X 0212-1990)</p></td></tr><tr><td align="left" valign="top"><p>encoding</p></td><td align="left" valign="top"><p>codec</p></td><td align="left" valign="top"><p><code class="literal">ISO-8859-1</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Defines the encoding scheme of the short message user data. Only for SubmitSm ReplaceSm and SubmitMulti.</p></td></tr><tr><td align="left" valign="top"><p>httpProxyHost</p></td><td align="left" valign="top"><p>proxy</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>If you need to tunnel SMPP through a HTTP proxy set this attribute to the hostname or ip address of your HTTP proxy.</p></td></tr><tr><td align="left" valign="top"><p>httpProxyPassword</p></td><td align="left" valign="top"><p>proxy</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>If your HTTP proxy requires basic authentication set this attribute to the password required for your HTTP proxy.</p></td></tr><tr><td align="left" valign="top"><p>httpProxyPort</p></td><td align="left" valign="top"><p>proxy</p></td><td align="left" valign="top"><p><code class="literal">3128</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>If you need to tunnel SMPP through a HTTP proxy set this attribute to the port of your HTTP proxy.</p></td></tr><tr><td align="left" valign="top"><p>httpProxyUsername</p></td><td align="left" valign="top"><p>proxy</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>If your HTTP proxy requires basic authentication set this attribute to the username required for your HTTP proxy.</p></td></tr><tr><td align="left" valign="top"><p>proxyHeaders</p></td><td align="left" valign="top"><p>proxy</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Map</code></p></td><td align="left" valign="top"><p>These headers will be passed to the proxy server while establishing the connection.</p></td></tr><tr><td align="left" valign="top"><p>password</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The password for connecting to SMSC server.</p></td></tr><tr><td align="left" valign="top"><p>systemId</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top"><p><code class="literal">smppclient</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The system id (username) for connecting to SMSC server.</p></td></tr><tr><td align="left" valign="top"><p>usingSSL</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether using SSL with the smpps protocol</p></td></tr></tbody></table></div><p>{% endraw %}</p><p>You can have as many of these options as you like.</p><pre class="programlisting">smpp:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer</em></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-ProducerMessageHeaders"></a>Producer Message Headers</h2></div></div></div><p>The following message headers can be used to affect the behavior of the
SMPP producer</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Header</th><th align="left" valign="top">Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddr</code></p></td><td align="left" valign="top"><p><code class="literal">List</code>/<code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the
destination SME address(es). For mobile terminated messages, this is the
directory number of the recipient MS. Is must be a <code class="literal">List&lt;String&gt;</code> for
SubmitMulti and a <code class="literal">String</code> otherwise.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddrTon</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the type
of number (TON) to be used in the SME destination address parameters.
Use the <code class="literal">sourceAddrTon</code> URI option values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddrNpi</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, SubmitMulti, CancelSm and DataSm</strong></span> Defines the
numeric plan indicator (NPI) to be used in the SME destination address
parameters. Use the URI option <code class="literal">sourceAddrNpi</code> values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddr</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Defines the address of SME (Short Message Entity) which originated this
message.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddrTon</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p>Defines the type of number (TON) to be used in the SME originator
address parameters. Use the <code class="literal">sourceAddrTon</code> URI option values defined
above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddrNpi</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p>Defines the numeric plan indicator (NPI) to be used in the SME
originator address parameters. Use the URI option <code class="literal">sourceAddrNpi</code> values
defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppServiceType</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The service type parameter can be used to indicate the SMS Application
service associated with the message. Use the URI option <code class="literal">serviceType</code>
settings above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppRegisteredDelivery</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, ReplaceSm, SubmitMulti and DataSm</strong></span> Is used to
request an SMSC delivery receipt and/or SME originated acknowledgements.
Use the URI option <code class="literal">registeredDelivery</code> settings above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppPriorityFlag</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm and SubmitMulti</strong></span> Allows the originating SME to assign
a priority level to the short message. Use the URI option <code class="literal">priorityFlag</code>
settings above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppScheduleDeliveryTime</code></p></td><td align="left" valign="top"><p><code class="literal">Date</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, SubmitMulti and ReplaceSm</strong></span> This parameter specifies
the scheduled time at which the message delivery should be first
attempted. It defines either the absolute date and time or relative time
from the current SMSC time at which delivery of this message will be
attempted by the SMSC. It can be specified in either absolute time
format or relative time format. The encoding of a time format is
specified in chapter 7.1.1. in the smpp specification v3.4.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppValidityPeriod</code></p></td><td align="left" valign="top"><p><code class="literal">String</code>/<code class="literal">Date</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm, SubmitMulti and ReplaceSm</strong></span> The validity period
parameter indicates the SMSC expiration time, after which the message
should be discarded if not delivered to the destination. If it&#8217;s
provided as <code class="literal">Date</code>, it&#8217;s interpreted as absolute time. <span class="strong"><strong>Camel 2.9.1
onwards:</strong></span> It can be defined in absolute time format or relative time
format if you provide it as <code class="literal">String</code> as specified in chapter 7.1.1 in
the smpp specification v3.4.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppReplaceIfPresentFlag</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for SubmitSm and SubmitMulti</strong></span> The replace if present flag
parameter is used to request the SMSC to replace a previously submitted
message, that is still pending delivery. The SMSC will replace an
existing message provided that the source address, destination address
and service type match the same fields in the new message. The following
values are defined: <code class="literal">0</code>, Don&#8217;t replace and <code class="literal">1</code>, Replace</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppAlphabet</code> / <code class="literal">CamelSmppDataCoding</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.5</strong></span> <span class="strong"><strong>For SubmitSm, SubmitMulti and ReplaceSm</strong></span> (Prior to <span class="strong"><strong>Camel
2.9</strong></span> use <code class="literal">CamelSmppDataCoding</code> instead of <code class="literal">CamelSmppAlphabet</code>.) The data
coding according to the SMPP 3.4 specification, section 5.2.19. Use the
URI option <code class="literal">alphabet</code> settings above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameters</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;String, String&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Deprecated and will be removed in Camel 2.13.0/3.0.0</strong></span>
 <span class="strong"><strong>Camel 2.10.5 and 2.11.1 onwards and only for SubmitSm, SubmitMulti and
DataSm</strong></span> The optional parameters send back by the SMSC.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameter</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;Short, Object&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.10.7 and 2.11.2 onwards and only for SubmitSm, SubmitMulti and
DataSm</strong></span> The optional parameter which are send to the SMSC. The value is
converted in the following way: <code class="literal">String</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code>,
<code class="literal">byte[]</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code>,
<code class="literal">Byte</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code>,
<code class="literal">Integer</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.Int</code>,
<code class="literal">Short</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.Short</code>,
<code class="literal">null</code> &#8594; <code class="literal">org.jsmpp.bean.OptionalParameter.Null</code></p></td></tr><tr><td align="left" valign="top"><p>CamelSmppEncoding</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.14.1 and Camel 2.15.0 onwards and</strong></span>*only for SubmitSm,
SubmitMulti and DataSm*.&nbsp; Specifies the encoding (character set name) of
the bytes in the message body.&nbsp; If the message body is a string then
this is not relevant because Java Strings are always Unicode.&nbsp; If the
body is a byte array then this header can be used to indicate that it is
ISO-8859-1 or some other value.&nbsp; Default value is specified by the
endpoint configuration parameter <span class="emphasis"><em>encoding</em></span></p></td></tr><tr><td align="left" valign="top"><p>CamelSmppSplittingPolicy</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.14.1 and Camel 2.15.0 onwards and</strong></span>*only for SubmitSm,
SubmitMulti and DataSm*.&nbsp; Specifies the policy for message splitting for
this exchange.&nbsp; Possible values are described in the endpoint
configuration parameter <span class="emphasis"><em>splittingPolicy</em></span></p></td></tr></tbody></table></div><p>The following message headers are used by the SMPP producer to set the
response from the SMSC in the message header</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Header</th><th align="left" valign="top">Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">CamelSmppId</code></p></td><td align="left" valign="top"><p><code class="literal">List&lt;String&gt;</code>/<code class="literal">String</code></p></td><td align="left" valign="top"><p>The id to identify the submitted short message(s) for later use. <span class="strong"><strong>From
Camel 2.9.0</strong></span>: In case of a ReplaceSm, QuerySm, CancelSm and DataSm this
header vaule is a <code class="literal">String</code>. In case of a SubmitSm or SubmitMultiSm this
header vaule is a <code class="literal">List&lt;String&gt;</code>.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSentMessageCount</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>From Camel 2.9 onwards only for SubmitSm and SubmitMultiSm</strong></span> The total
number of messages which has been sent.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppError</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>From Camel 2.9 onwards only for SubmitMultiSm</strong></span> The errors which
occurred by sending the short message(s) the form <code class="literal">Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;</code> (messageID : (destAddr :
address, error : errorCode)).</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameters</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;String, String&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Deprecated and will be removed in Camel 2.13.0/3.0.0</strong></span>
<span class="strong"><strong>From Camel 2.11.1 onwards only for DataSm</strong></span> The optional parameters
which are returned from the SMSC by sending the message.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameter</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;Short, Object&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>From Camel 2.10.7, 2.11.2 onwards only for DataSm</strong></span> The optional
parameter which are returned from the SMSC by sending the message. The
key is the <code class="literal">Short</code> code for the optional parameter. The value is
converted in the following way:
<code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code> &#8594; <code class="literal">String</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code> &#8594; <code class="literal">byte[]</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code> &#8594; <code class="literal">Byte</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Int</code> &#8594; <code class="literal">Integer</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Short</code> &#8594; <code class="literal">Short</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Null</code> &#8594; <code class="literal">null</code></p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-ConsumerMessageHeaders"></a>Consumer Message Headers</h2></div></div></div><p>The following message headers are used by the SMPP consumer to set the
request data from the SMSC in the message header</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Header</th><th align="left" valign="top">Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSequenceNumber</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span> A sequence number
allows a response PDU to be correlated with a request PDU. The
associated SMPP response PDU must preserve this field.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppCommandId</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span> The command id field
identifies the particular SMPP PDU. For the complete list of defined
values see chapter 5.1.2.1 in the smpp specification v3.4.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddr</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification, DeliverSm and DataSm</strong></span> Defines the address
of SME (Short Message Entity) which originated this message.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddrNpi</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification and DataSm</strong></span> Defines the numeric plan
indicator (NPI) to be used in the SME originator address parameters. Use
the URI option <code class="literal">sourceAddrNpi</code> values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSourceAddrTon</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification and DataSm</strong></span> Defines the type of number (TON)
to be used in the SME originator address parameters. Use the
<code class="literal">sourceAddrTon</code> URI option values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppEsmeAddr</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification</strong></span> Defines the destination ESME address. For
mobile terminated messages, this is the directory number of the
recipient MS.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppEsmeAddrNpi</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification</strong></span> Defines the numeric plan indicator (NPI) to
be used in the ESME originator address parameters. Use the URI option
<code class="literal">sourceAddrNpi</code> values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppEsmeAddrTon</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for AlertNotification</strong></span> Defines the type of number (TON) to be used
in the ESME originator address parameters. Use the <code class="literal">sourceAddrTon</code> URI
option values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppId</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt and DataSm</strong></span> The message ID allocated to
the message by the SMSC when originally submitted.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDelivered</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt</strong></span> Number of short messages delivered. This
is only relevant where the original message was submitted to a
distribution list.The value is padded with leading zeros if necessary.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDoneDate</code></p></td><td align="left" valign="top"><p><code class="literal">Date</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt</strong></span> The time and date at which the short
message reached it&#8217;s final state. The format is as follows: YYMMDDhhmm.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppStatus</code></p></td><td align="left" valign="top"><p><code class="literal">DeliveryReceiptState</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt:</strong></span> The final status of the message. The
following values are defined: <code class="literal">DELIVRD</code>: Message is delivered to destination,
<code class="literal">EXPIRED</code>: Message validity period has expired,
<code class="literal">DELETED</code>: Message has been deleted,
<code class="literal">UNDELIV</code>: Message is undeliverable,
<code class="literal">ACCEPTD</code>: Message is in accepted state (i.e. has been manually read on
behalf of the subscriber by customer service),
<code class="literal">UNKNOWN</code>: Message is in invalid state,
<code class="literal">REJECTD</code>: Message is in a rejected state</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppCommandStatus</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DataSm</strong></span> The Command status of the message.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppError</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt</strong></span> Where appropriate this may hold a
Network specific error code or an SMSC error code for the attempted
delivery of the message. These errors are Network or SMSC specific and
are not included here.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSubmitDate</code></p></td><td align="left" valign="top"><p><code class="literal">Date</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt</strong></span> The time and date at which the short
message was submitted. In the case of a message which has been replaced,
this is the date that the original message was replaced. The format is
as follows: YYMMDDhhmm.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppSubmitted</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for smsc DeliveryReceipt</strong></span> Number of short messages originally
submitted. This is only relevant when the original message was submitted
to a distribution list.The value is padded with leading zeros if
necessary.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddr</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DeliverSm and DataSm:</strong></span> Defines the destination SME address.
For mobile terminated messages, this is the directory number of the
recipient MS.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppScheduleDeliveryTime</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DeliverSm:</strong></span> This parameter specifies the scheduled time at
which the message delivery should be first attempted. It defines either
the absolute date and time or relative time from the current SMSC time
at which delivery of this message will be attempted by the SMSC. It can
be specified in either absolute time format or relative time format. The
encoding of a time format is specified in Section 7.1.1. in the smpp
specification v3.4.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppValidityPeriod</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DeliverSm</strong></span> The validity period parameter indicates the SMSC
expiration time, after which the message should be discarded if not
delivered to the destination. It can be defined in absolute time format
or relative time format. The encoding of absolute and relative time
format is specified in Section 7.1.1 in the smpp specification v3.4.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppServiceType</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DeliverSm and DataSm</strong></span> The service type parameter indicates the
SMS Application service associated with the message.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppRegisteredDelivery</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DataSm</strong></span> Is used to request an delivery receipt and/or SME
originated acknowledgements. Same values as in Producer header list
above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddrNpi</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DataSm</strong></span> Defines the numeric plan indicator (NPI) in the
destination address parameters. Use the URI option <code class="literal">sourceAddrNpi</code>
values defined above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppDestAddrTon</code></p></td><td align="left" valign="top"><p><code class="literal">Byte</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>only for DataSm</strong></span> Defines the type of number (TON) in the destination
address parameters. Use the <code class="literal">sourceAddrTon</code> URI option values defined
above.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppMessageType</code></p></td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.6 onwards</strong></span>: Identifies the type of an incoming message:
<code class="literal">AlertNotification</code>: an SMSC alert notification,
<code class="literal">DataSm</code>: an SMSC data short message,
<code class="literal">DeliveryReceipt</code>: an SMSC delivery receipt,
<code class="literal">DeliverSm</code>: an SMSC deliver short message</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameters</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;String, Object&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Deprecated and will be removed in Camel 2.13.0/3.0.0</strong></span>
<span class="strong"><strong>Camel 2.10.5 onwards and only for DeliverSm</strong></span> The optional parameters
send back by the SMSC.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CamelSmppOptionalParameter</code></p></td><td align="left" valign="top"><p><code class="literal">Map&lt;Short, Object&gt;</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Camel 2.10.7, 2.11.2 onwards and only for DeliverSm</strong></span> The optional
parameters send back by the SMSC. The key is the <code class="literal">Short</code> code for the
optional parameter. The value is converted in the following way:
<code class="literal">org.jsmpp.bean.OptionalParameter.COctetString</code> &#8594; <code class="literal">String</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.OctetString</code> &#8594; <code class="literal">byte[]</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Byte</code> &#8594; <code class="literal">Byte</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Int</code> &#8594; <code class="literal">Integer</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Short</code> &#8594; <code class="literal">Short</code>,
<code class="literal">org.jsmpp.bean.OptionalParameter.Null</code> &#8594; <code class="literal">null</code></p></td></tr></tbody></table></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="imagesdb/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>JSMPP library</strong></span>
See the documentation of the <a class="link" href="http://jsmpp.org" target="_top">JSMPP Library</a> for more
details about the underlying library.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-Exceptionhandling"></a>Exception handling</h2></div></div></div><p>This component supports the general Camel exception handling
capabilities</p><p>When an error occurs sending a message with SubmitSm (the default
action), the org.apache.camel.component.smpp.SmppException is thrown
with a nested exception, org.jsmpp.extra.NegativeResponseException.&nbsp;
Call NegativeResponseException.getCommandStatus() to obtain the exact
SMPP negative response code, the values are explained in the SMPP
specification 3.4, section 5.1.3.
 <span class="strong"><strong>Camel 2.8 onwards</strong></span>: When the SMPP consumer receives a <code class="literal">DeliverSm</code> or
<code class="literal">DataSm</code> short message and the processing of these messages fails, you
can also throw a <code class="literal">ProcessRequestException</code> instead of handle the
failure. In this case, this exception is forwarded to the underlying
<a class="link" href="http://jsmpp.org" target="_top">JSMPP library</a> which will return the included error
code to the SMSC. This feature is useful to e.g. instruct the SMSC to
resend the short message at a later time. This could be done with the
following lines of code:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer"</em></strong>)
  .doTry()
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"bean:dao?method=updateSmsState"</em></strong>)
  .doCatch(Exception.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>)
    .throwException(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ProcessRequestException(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"update of sms state failed"</em></strong>, <span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">100</span>))
  .end();</pre><p>Please refer to the <a class="link" href="http://smsforum.net/SMPP_v3_4_Issue1_2.zip" target="_top">SMPP
specification</a> for the complete list of error codes and their meanings.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-Samples"></a>Samples</h2></div></div></div><p>A route which sends an SMS using the Java DSL:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:start"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"smpp://smppclient@localhost:2775?
</em></strong>      password=password&amp;enquireLinkTimer=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">3000</span>&amp;transactionTimer=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">5000</span>&amp;systemType=producer<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">");</em></strong></pre><p>A route which sends an SMS using the Spring XML DSL:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"direct:start"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"smpp://smppclient@localhost:2775?
           password=password&amp;amp;enquireLinkTimer=3000&amp;amp;transactionTimer=5000&amp;amp;systemType=producer"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong></pre><p>A route which receives an SMS using the Java DSL:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"smpp://smppclient@localhost:2775?password=password&amp;enquireLinkTimer=3000&amp;transactionTimer=5000&amp;systemType=consumer"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"bean:foo"</em></strong>);</pre><p>A route which receives an SMS using the Spring XML DSL:</p><pre class="programlisting">  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"smpp://smppclient@localhost:2775?
                password=password&amp;amp;enquireLinkTimer=3000&amp;amp;transactionTimer=5000&amp;amp;systemType=consumer"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
     <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"bean:foo"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong></pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="imagesdb/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>SMSC simulator</strong></span>
If you need an SMSC simulator for your test, you can use the simulator
provided by
<a class="link" href="http://opensmpp.logica.com/CommonPart/Download/download2.html#simulator" target="_top">Logica</a>.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-Debuglogging"></a>Debug logging</h2></div></div></div><p>This component has log level <span class="strong"><strong>DEBUG</strong></span>, which can be helpful in debugging
problems. If you use log4j, you can add the following line to your
configuration:</p><pre class="programlisting">log4j.logger.org.apache.camel.component.smpp=DEBUG</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SMPP-SeeAlso"></a>See Also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="configuring-camel.html" target="_top">Configuring Camel</a></li><li class="listitem"><a class="link" href="component.html" target="_top">Component</a></li><li class="listitem"><a class="link" href="endpoint.html" target="_top">Endpoint</a></li><li class="listitem"><a class="link" href="getting-started.html" target="_top">Getting Started</a></li></ul></div></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Producer Example</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="Telegram-TelegramComponent.html" title="Telegram Component"><link rel="prev" href="Telegram-Usage.html" title="Usage"><link rel="next" href="Telegram-ConsumerExample.html" title="Consumer Example"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="Telegram-ProducerExample"></a>Producer Example</h3></div></div></div><p>The following is a basic example of how to send a message to a Telegram chat through the
Telegram Bot API.</p><p>in Java DSL</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:start"</em></strong>).to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"telegram:bots/123456789:AAE_dLq5C19xwGjw3yiC2NvEUrZcejK21-Q987654321:AAE_dLq5C19xwOmg5yiC2NvSrkT3wj5Q1-L"</em></strong>);</pre><p>or in Spring XML</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"direct:start"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"telegram:bots/123456789:AAE_dLq5C19xwGjw3yiC2NvEUrZcejK21-Q987654321:AAE_dLq5C19xwOmg5yiC2NvSrkT3wj5Q1-L"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong></pre><p>The code <code class="literal">123456789:AAE_dLq5C19xwGjw3yiC2NvEUrZcejK21-Q987654321:AAE_dLq5C19xwOmg5yiC2NvSrkT3wj5Q1-L</code> is the <span class="strong"><strong>authorization token</strong></span> corresponding to the Bot.</p><p>When using the producer endpoint without specifying the <span class="strong"><strong>chat id</strong></span> option, the target chat will be identified using information contained in the body or headers of the message.
The following message bodies are allowed for a producer endpoint (messages of type <code class="literal">OutgoingXXXMessage</code> belong to the package <code class="literal">org.apache.camel.component.telegram.model</code>)</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="40%" class="col_1"><col width="60%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">OutgoingTextMessage</code></p></td><td align="left" valign="top"><p>To send a text message to a chat</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">OutgoingPhotoMessage</code></p></td><td align="left" valign="top"><p>To send a photo (JPG, PNG) to a chat</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">OutgoingAudioMessage</code></p></td><td align="left" valign="top"><p>To send a mp3 audio to a chat</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">OutgoingVideoMessage</code></p></td><td align="left" valign="top"><p>To send a mp4 video to a chat</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">byte[]</code></p></td><td align="left" valign="top"><p>To send any media type supported. It requires the <code class="literal">CamelTelegramMediaType</code> header to be set to the appropriate media type</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>To send a text message to a chat. It gets converted automatically into a <code class="literal">OutgoingTextMessage</code></p></td></tr></tbody></table></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Consul Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="Cometd-CometdComponent.html" title="Cometd Component"><link rel="next" href="Context-ContextComponent.html" title="Context Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="Consul-ConsulComponent"></a>Consul Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="Consul-ConsulComponent.html#Consul-URIformat">URI format</a></span></dt><dt><span class="section"><a href="Consul-ConsulComponent.html#Consul-Options">Options</a></span></dt><dt><span class="section"><a href="Consul-ConsulComponent.html#Consul-Headers">Headers</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel 2.18</strong></span></p><p>The <span class="strong"><strong>Consul</strong></span> component is a component for integrating your application with Consul.</p><p>Maven users will need to add the following dependency to their pom.xml
for this component:</p><pre class="programlisting">    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
        &lt;artifactId&gt;camel-consul&lt;/artifactId&gt;
        &lt;version&gt;${camel-version}&lt;/version&gt;
    &lt;/dependency&gt;</pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Consul-URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">    consul:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//domain?[options]</em></pre><p>You can append query options to the URI in the following format:</p><pre class="screen">    ?option=value&amp;option=value&amp;...</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Consul-Options"></a>Options</h2></div></div></div><p>The Consul component has no options.</p><p>The Consul component supports 22 endpoint options which are listed below:</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="10%" class="col_2"><col width="11%" class="col_3"><col width="10%" class="col_4"><col width="50%" class="col_5"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Group</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>apiEndpoint</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> The API endpoint</p></td></tr><tr><td align="left" valign="top"><p>connectTimeoutMillis</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Long</code></p></td><td align="left" valign="top"><p>Connect timeout for OkHttpClient</p></td></tr><tr><td align="left" valign="top"><p>dc</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The data center</p></td></tr><tr><td align="left" valign="top"><p>key</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The default key. Can be overridden by CamelConsulKey</p></td></tr><tr><td align="left" valign="top"><p>pingInstance</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Configure if the AgentClient should attempt a ping before returning the Consul instance</p></td></tr><tr><td align="left" valign="top"><p>readTimeoutMillis</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Long</code></p></td><td align="left" valign="top"><p>Read timeout for OkHttpClient</p></td></tr><tr><td align="left" valign="top"><p>tags</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Set tags. You can separate multiple tags by comma.</p></td></tr><tr><td align="left" valign="top"><p>url</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The Consul agent URL</p></td></tr><tr><td align="left" valign="top"><p>writeTimeoutMillis</p></td><td align="left" valign="top"><p>common</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">Long</code></p></td><td align="left" valign="top"><p>Write timeout for OkHttpClient</p></td></tr><tr><td align="left" valign="top"><p>bridgeErrorHandler</p></td><td align="left" valign="top"><p>consumer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler which mean any exceptions occurred while the consumer is trying to pickup incoming messages or the likes will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exceptionHandler</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExceptionHandler</code></p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions that will be logged at WARN/ERROR level and ignored.</p></td></tr><tr><td align="left" valign="top"><p>exchangePattern</p></td><td align="left" valign="top"><p>consumer (advanced)</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">ExchangePattern</code></p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td></tr><tr><td align="left" valign="top"><p>action</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>The default action. Can be overridden by CamelConsulAction</p></td></tr><tr><td align="left" valign="top"><p>valueAsString</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Default to transform values retrieved from Consul i.e. on KV endpoint to string.</p></td></tr><tr><td align="left" valign="top"><p>synchronous</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td></tr><tr><td align="left" valign="top"><p>blockSeconds</p></td><td align="left" valign="top"><p>watch</p></td><td align="left" valign="top"><p><code class="literal">10</code></p></td><td align="left" valign="top"><p><code class="literal">Integer</code></p></td><td align="left" valign="top"><p>The second to wait for a watch event default 10 seconds</p></td></tr><tr><td align="left" valign="top"><p>firstIndex</p></td><td align="left" valign="top"><p>watch</p></td><td align="left" valign="top"><p><code class="literal">0</code></p></td><td align="left" valign="top"><p><code class="literal">long</code></p></td><td align="left" valign="top"><p>The first index for watch for default 0</p></td></tr><tr><td align="left" valign="top"><p>recursive</p></td><td align="left" valign="top"><p>watch</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Recursively watch default false</p></td></tr><tr><td align="left" valign="top"><p>aclToken</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the ACL token to be used with Consul</p></td></tr><tr><td align="left" valign="top"><p>password</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the password to be used for basic authentication</p></td></tr><tr><td align="left" valign="top"><p>sslContextParameters</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">SSLContextParameters</code></p></td><td align="left" valign="top"><p>SSL configuration using an org.apache.camel.util.jsse.SSLContextParameters instance.</p></td></tr><tr><td align="left" valign="top"><p>userName</p></td><td align="left" valign="top"><p>security</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the username to be used for basic authentication</p></td></tr></tbody></table></div><p>{% endraw %}</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Consul-Headers"></a>Headers</h2></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>CamelConsulAction</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Producer action</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulKey</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Key on which the action should applied</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventId</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The event id (consumer only)</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventName</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The event name (consumer only)</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulEventLTime</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The event LTime</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulNodeFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The Node filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulTagFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The tag filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulSessionFilter</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The session filter</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulVersion</p></td><td align="left" valign="top"><p>int</p></td><td align="left" valign="top"><p>The data version</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulFlags</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>Flags associated with a value</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulCreateIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The internal index value that represents when the entry was created</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulLockIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The number of times this key has successfully been acquired in a lock</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulModifyIndex</p></td><td align="left" valign="top"><p>Long</p></td><td align="left" valign="top"><p>The last index that modified this key</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulOptions</p></td><td align="left" valign="top"><p>Object</p></td><td align="left" valign="top"><p>Options associated to the request</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulResult</p></td><td align="left" valign="top"><p>boolean</p></td><td align="left" valign="top"><p>true if the response has a result</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulSession</p></td><td align="left" valign="top"><p>String</p></td><td align="left" valign="top"><p>The session id</p></td></tr><tr><td align="left" valign="top"><p>CamelConsulValueAsString</p></td><td align="left" valign="top"><p>boolean</p></td><td align="left" valign="top"><p>To transform values retrieved from Consul i.e. on KV endpoint to string.</p></td></tr></tbody></table></div></div></div></body></html>
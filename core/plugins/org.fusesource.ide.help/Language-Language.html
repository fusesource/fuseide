<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Language Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="Kura-EclipseKuracomponent.html" title="Kura Eclipse Component"><link rel="next" href="LDAP-LDAPComponent.html" title="LDAP Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="Language-Language"></a>Language Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="Language-Language.html#Language-URIformat">URI format</a></span></dt><dt><span class="section"><a href="Language-Language.html#Language-URIOptions">URI Options</a></span></dt><dt><span class="section"><a href="Language-Language.html#Language-MessageHeaders">Message Headers</a></span></dt><dt><span class="section"><a href="Language-Language.html#Language-Examples">Examples</a></span></dt><dt><span class="section"><a href="Language-Language.html#Language-Loadingscriptsfromresources">Loading scripts from resources</a></span></dt><dt><span class="section"><a href="Language-Language.html#Language-SeeAlso">See Also</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel 2.5</strong></span></p><p>The language component allows you to send <a class="link" href="exchange.html" target="_top">Exchange</a>
to an endpoint which executes a script by any of the supported
<a class="link" href="languages.html" target="_top">Languages</a> in Camel.
 By having a component to execute language scripts, it allows more
dynamic routing capabilities. For example by using the
<a class="link" href="routing-slip.html" target="_top">Routing Slip</a> or <a class="link" href="dynamic-router.html" target="_top">Dynamic
Router</a> EIPs you can send messages to <code class="literal">language</code> endpoints where the
script is dynamic defined as well.</p><p>This component is provided out of the box in <code class="literal">camel-core</code> and hence no
additional JARs is needed. You only have to include additional Camel
components if the language of choice mandates it, such as using
<a class="link" href="groovy.html" target="_top">Groovy</a> or <a class="link" href="javascript.html" target="_top">JavaScript</a> languages.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">language:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//languageName[:script][?options]</em></pre><p>And from Camel 2.11 onwards you can refer to an external resource for
the script using same notation as supported by the other
<a class="link" href="language.html" target="_top">Language</a>s in Camel</p><pre class="programlisting">language:<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//languageName:resource:scheme:location][?options]</em></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-URIOptions"></a>URI Options</h2></div></div></div><p>The Language component has no options.</p><p>The Language component supports 8 endpoint options which are listed below:</p><p>{% raw %}</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="10%" class="col_2"><col width="11%" class="col_3"><col width="10%" class="col_4"><col width="50%" class="col_5"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Group</th><th align="left" valign="top">Default</th><th align="left" valign="top">Java Type</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>languageName</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Sets the name of the language to use</p></td></tr><tr><td align="left" valign="top"><p>resourceUri</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Path to the resource or a reference to lookup a bean in the Registry to use as the resource</p></td></tr><tr><td align="left" valign="top"><p>binary</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether the script is binary content or text content. By default the script is read as text content (eg java.lang.String)</p></td></tr><tr><td align="left" valign="top"><p>cacheScript</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether to cache the compiled script and reuse Notice reusing the script can cause side effects from processing one Camel org.apache.camel.Exchange to the next org.apache.camel.Exchange.</p></td></tr><tr><td align="left" valign="top"><p>contentCache</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether to use resource content cache or not.</p></td></tr><tr><td align="left" valign="top"><p>script</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top"><p><code class="literal">String</code></p></td><td align="left" valign="top"><p>Sets the script to execute</p></td></tr><tr><td align="left" valign="top"><p>transform</p></td><td align="left" valign="top"><p>producer</p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Whether or not the result of the script should be used as message body. This options is default true.</p></td></tr><tr><td align="left" valign="top"><p>synchronous</p></td><td align="left" valign="top"><p>advanced</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">boolean</code></p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used or Camel is allowed to use asynchronous processing (if supported).</p></td></tr></tbody></table></div><p>{% endraw %}</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-MessageHeaders"></a>Message Headers</h2></div></div></div><p>The following message headers can be used to affect the behavior of the
component</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="90%" class="col_2"></colgroup><thead><tr><th align="left" valign="top">Header</th><th align="left" valign="top">Description</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">CamelLanguageScript</code></p></td><td align="left" valign="top"><p>The script to execute provided in the header. Takes precedence over
script configured on the endpoint.</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-Examples"></a>Examples</h2></div></div></div><p>For example you can use the <a class="link" href="simple.html" target="_top">Simple</a> language to
<a class="link" href="message-translator.html" target="_top">Message Translator</a> a message:</p><p>In case you want to convert the message body type you can do this as
well:</p><p>You can also use the <a class="link" href="groovy.html" target="_top">Groovy</a> language, such as this
example where the input message will by multiplied with 2:</p><p>You can also provide the script as a header as shown below. Here we use
<a class="link" href="xpath.html" target="_top">XPath</a> language to extract the text from the <code class="literal">&lt;foo&gt;</code>
tag.</p><pre class="programlisting">Object out = producer.requestBodyAndHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"language:xpath"</em></strong>, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&lt;foo&gt;Hello World&lt;/foo&gt;"</em></strong>, Exchange.LANGUAGE_SCRIPT, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"/foo/text()"</em></strong>);
assertEquals(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Hello World"</em></strong>, out);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-Loadingscriptsfromresources"></a>Loading scripts from resources</h2></div></div></div><p><span class="strong"><strong>Available as of Camel 2.9</strong></span></p><p>You can specify a resource uri for a script to load in either the
endpoint uri, or in the <code class="literal">Exchange.LANGUAGE_SCRIPT</code> header.
 The uri must start with one of the following schemes: file:,
classpath:, or http:</p><p>For example to load a script from the classpath:</p><p>By default the script is loaded once and cached. However you can disable
the <code class="literal">contentCache</code> option and have the script loaded on each
evaluation.
 For example if the file myscript.txt is changed on disk, then the
updated script is used:</p><p>From <span class="strong"><strong>Camel 2.11</strong></span> onwards you can refer to the resource similar to the
other <a class="link" href="language.html" target="_top">Language</a>s in Camel by prefixing with
<code class="literal">"resource:"</code> as shown below:</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Language-SeeAlso"></a>See Also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="configuring-camel.html" target="_top">Configuring Camel</a></li><li class="listitem"><a class="link" href="component.html" target="_top">Component</a></li><li class="listitem"><a class="link" href="endpoint.html" target="_top">Endpoint</a></li><li class="listitem"><a class="link" href="getting-started.html" target="_top">Getting Started</a></li><li class="listitem"><a class="link" href="languages.html" target="_top">Languages</a></li><li class="listitem"><a class="link" href="routing-slip.html" target="_top">Routing Slip</a></li><li class="listitem"><a class="link" href="dynamic-router.html" target="_top">Dynamic Router</a></li><li class="listitem"><a class="link" href="script.html" target="_top">Script</a></li></ul></div></div></div></body></html>
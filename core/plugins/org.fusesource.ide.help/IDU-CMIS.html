<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>CMIS</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-Class.html" title="Class"><link rel="next" href="IDU-CM-SMS.html" title="CM-SMS"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-CMIS"></a>CMIS</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_CMISComponent"></a>CMIS Component</h2></div></div></div><p></p><p><span class="bold"><strong>Available as of Camel 2.11</strong></span>
The cmis component uses the <a class="link" href="http://chemistry.apache.org/java/opencmis.html" target="_top">Apache Chemistry</a> client API and allows you to add/read nodes to/from a CMIS compliant content repositories.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_URIFormat"></a>URI Format</h2></div></div></div><p></p><pre class="programlisting">
cmis://cmisServerUrl[?options]
</pre><p>You can append query options to the URI in the following format, ?options=value&amp;option2=value&amp;...</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_URIOptions"></a>URI Options</h2></div></div></div><p></p><table id="d0e63034"><tr>
        <th> Name </th>
        <th> Default Value </th>
        <th> Context </th>
        <th> Description </th>
      </tr><tr>
        <td>queryMode </td>
        <td><code class="literal">false</code>
        </td>
        <td> Producer </td>
        <td> If true, will execute the cmis query from the message body and return result, otherwise will create a node in the cmis repository </td>
      </tr><tr>
        <td>query </td>
        <td><code class="literal">String</code>
        </td>
        <td> Consumer </td>
        <td> The cmis query to execute against the repository. If not specified, the consumer will retrieve every node from the content repository by iterating the content tree recursively </td>
      </tr><tr>
        <td>username </td>
        <td><code class="literal">null</code>
        </td>
        <td> Both </td>
        <td> Username for the cmis repository </td>
      </tr><tr>
        <td>password </td>
        <td><code class="literal">null</code>
        </td>
        <td> Both </td>
        <td> Password for the cmis repository </td>
      </tr><tr>
        <td>repositoryId </td>
        <td><code class="literal">null</code>
        </td>
        <td> Both </td>
        <td> The Id of the repository to use. If not specified the first available repository is used </td>
      </tr><tr>
        <td>pageSize </td>
        <td><code class="literal">100</code>
        </td>
        <td> Both </td>
        <td> Number of nodes to retrieve per page </td>
      </tr><tr>
        <td>readCount </td>
        <td><code class="literal">0</code>
        </td>
        <td> Both </td>
        <td> Max number of nodes to read </td>
      </tr><tr>
        <td>readContent </td>
        <td><code class="literal">false</code>
        </td>
        <td> Both </td>
        <td> If set to true, the content of document node will be retrieved in addition to the properties</td>
      </tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_Usage"></a>Usage</h2></div></div></div><p></p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_Messageheadersevaluatedbytheproducer"></a>Message headers evaluated by the producer</h2></div></div></div><p></p><p>

    </p><table id="d0e63191"><tr>
        <th> Header </th>
        <th> Default Value </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelCMISFolderPath</code>
        </td>
        <td><code class="literal">/</code>
        </td>
        <td> The current folder to use during the execution. If not specified will use the root folder </td>
      </tr><tr>
        <td><code class="literal">CamelCMISRetrieveContent</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> In <code class="literal">queryMode</code> this header will force the producer to retrieve the content of document nodes. </td>
      </tr><tr>
        <td><code class="literal">CamelCMISReadSize</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td> Max number of nodes to read.</td>
      </tr><tr>
        <td><code class="literal">cmis:path</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td> If <code class="literal">CamelCMISFolderPath</code> is not set, will try to find out the path of the node from this cmis property and it is name</td>
      </tr><tr>
        <td><code class="literal">cmis:name</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td> If <code class="literal">CamelCMISFolderPath</code> is not set, will try to find out the path of the node from this cmis property and it is path</td>
      </tr><tr>
        <td><code class="literal">cmis:objectTypeId</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td> The type of the node </td>
      </tr><tr>
        <td><code class="literal">cmis:contentStreamMimeType</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td> The mimetype to set for a document </td>
      </tr></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-CMIS_HSH_MessageheaderssetduringqueryingProduceroperation"></a>Message headers set during querying Producer operation</h2></div></div></div><p></p><p>

    </p><table id="d0e63326"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelCMISResultCount</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td> Number of nodes returned from the query. </td>
      </tr></table><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: pom.xml"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">pom.xml</th></tr><tr><td align="left" valign="top"><pre class="programlisting">
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-cmis&lt;/artifactId&gt;
    &lt;version&gt;${camel-version}&lt;/version&gt;
&lt;/dependency&gt;
</pre></td></tr></table></div><p>where <code class="literal">${camel-version}</code> must be replaced by the actual version of Camel (2.11 or higher).</p><p>

    </p></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>To Test a Route with JUnit</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="description" content="This tutorial walks you through the process of using the New Camel Test Case wizard to create a test case for your route and using it test the route."><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderTutorials.html" title="Tutorials"><link rel="prev" href="RiderTutorialTrace.html" title="To Trace a Message Through a Route"><link rel="next" href="RiderTutDeployFESB.html" title="To Deploy a Camel Project to Red Hat JBoss Fuse"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="RiderTutorialJUnit"></a>To Test a Route with JUnit</h1></div><div><a href="rh-d0e13582.html">Revision History</a></div><div><div class="abstract"><p>This tutorial walks you through the process of using the New Camel Test Case wizard
                to create a test case for your route and using it test the route.</p></div></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13590"></a>Overview</h2></div></div></div><p>The New Camel JUnit Test Case wizard generates a boilerplate JUnit test case. This
            means that when you create or modify a route (for example, adding more processors to
            it), you'll need to modify the generated test case to add expectations and assertions
            specific to the new route you've created, so the test is valid for the route.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13595"></a>Goals</h2></div></div></div><p>In this tutorial you will:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>create a Apache Camel test case</p></li><li class="listitem"><p>run the route with the test case</p></li><li class="listitem"><p>observe the output</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13610"></a>Prerequisites</h2></div></div></div><p>To complete this tutorial you will need:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>the <span class="bold"><strong>simple-route</strong></span> project you created in
                        <a class="xref" href="RiderTutorialCBR.html" title="To Add a Content-Based Router"><i>To Add a Content-Based Router</i></a></p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13623"></a>Creating the test case</h2></div></div></div><p>To create a new test case:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, select
                        <code class="filename">src/test/java</code>.</p></li><li class="step"><p>Right-click it to open the context menu, and then select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Camel Test Case</span> to open the <span class="guilabel">New Camel JUnit Test Case</span> wizard,
                    as shown in <a class="xref" href="RiderTutorialJUnit.html#RiderTutorialJUnitFig010" title="Figure&nbsp;15.&nbsp;New Camel JUnit Test Case wizard">Figure&nbsp;15, &#8220;New Camel JUnit Test Case wizard&#8221;</a>.</p><div class="figure"><a name="RiderTutorialJUnitFig010"></a><p class="title"><b>Figure&nbsp;15.&nbsp;New Camel JUnit Test Case wizard</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/NewCamTstCaseTut.png" align="middle" width="412.5" alt="new JUnit test case wizard page one"></div></div></div><br class="figure-break"></li><li class="step"><p>Make sure the <span class="guilabel">Source folder</span> field contains
                        <strong class="userinput"><code>simple-route/src/test/java</code></strong>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If needed, you can click <span class="inlinemediaobject"><img src="images/BrowseButton.jpg" alt="browse button"></span> to find the proper folder.</p></td></tr></table></div></li><li class="step"><p>The <span class="guilabel">Package</span> field defaults to
                        <code class="filename">tutorial.simple-route</code>. To include the test case in a
                    different package, enter the name of the package.</p></li><li class="step"><p>In the <span class="guilabel">Camel XML file under test</span> field, enter
                        <strong class="userinput"><code>src/main/resources/META-INF/spring/camelContext.xml</code></strong>,
                    or use <span class="inlinemediaobject"><img src="images/BrowseButton.jpg" alt="browse button"></span> to open a file explorer, configured to screen for XML
                    files, to locate the file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="guilabel">Name</span> field defaults to
                            <em class="replaceable"><code>CamelContextXmlTest</code></em> for the name of the test
                        file.</p></td></tr></table></div></li><li class="step"><p>Click <span class="guibutton">Next&gt;</span> to open the <span class="guilabel">Test
                        Endpoints</span> page, shown in <a class="xref" href="RiderTutorialJUnit.html#RiderTutorialJUnitFig020" title="Figure&nbsp;16.&nbsp;Test Endpoints page">Figure&nbsp;16, &#8220;Test Endpoints page&#8221;</a>.</p><div class="figure"><a name="RiderTutorialJUnitFig020"></a><p class="title"><b>Figure&nbsp;16.&nbsp;Test Endpoints page</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/NewCamtstEndptTut.png" align="middle" width="309.4" alt="new JUnit test case wizard page two"></div></div></div><br class="figure-break"></li><li class="step"><p>By default, all endpoints are selected and will be included in the test case.
                    You can select or deselect all endpoints by clicking the <span class="guilabel">Select
                        All</span> or <span class="guilabel">Deselect All</span> button, or you can
                    select and deselect individual endpoints by clicking the check box next to
                    each.</p></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If prompted, add JUnit to the build path.</p></td></tr></table></div></li></ol></div><p>The artifacts for the test are added to your project, and the class implementing the
            test case opens in the Java editor.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13754"></a>Running the test</h2></div></div></div><p>To run the test:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Select the project root, <code class="filename">simple-route</code>, in the
                        <span class="guilabel">Project Explorer</span>.</p></li><li class="step"><p>Open the context menu.</p></li><li class="step"><p>Select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">JUnit Test</span>.</p><p>The <span class="guilabel">JUnit</span> view, shown in <a class="xref" href="RiderTutorialJUnit.html#RiderTutorialJUnitFig030" title="Figure&nbsp;17.&nbsp;JUnit view">Figure&nbsp;17, &#8220;JUnit view&#8221;</a>, opens in the Eclipse sidebar.</p><div class="figure"><a name="RiderTutorialJUnitFig030"></a><p class="title"><b>Figure&nbsp;17.&nbsp;JUnit view</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tutJunitResult.png" align="middle" width="658" alt="JUnit view"></div></div></div><br class="figure-break"></li><li class="step"><p>Examine the output and take action to resolve any test failures.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You may have to run this boilerplate test twice before it runs without a
                        failure.</p></td></tr></table></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e13803"></a>Further reading</h2></div></div></div><p>To learn more about:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>see <a class="link" href="http://www.junit.org/" target="_top">JUnit </a></p></li></ul></div></div></div></body></html>
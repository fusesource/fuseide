<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Resequence</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderRouteRef.html" title="Routing"><link rel="prev" href="recipientList.html" title="Recipient List"><link rel="next" href="routingSlip.html" title="Routing Slip"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="resequence"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>Resequence &#8212; Resequences messages based on an expression</p></div><div class="refsection"><a name="d0e17491"></a><h2>Usage</h2><p>The Resequence pattern reorders messages according to a specified expression. It can be
      used in one of two modes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>batch&#8212;the resequencer collects the messages into a batch, resequences them and 
        sends the batch to the target endpoint</p></li><li class="listitem"><p>stream&#8212;the resequencer looks for gaps in the message stream and resequences the
          messages between the gaps before sending them to the target endpoint</p></li></ul></div><p>The Resequence pattern can be placed anywhere in the body of a route. It can only support
      a single output.</p></div><div class="refsection"><a name="d0e17505"></a><h2>Properties</h2><p><a class="xref" href="resequence.html#RiderResequenceRefTbl1" title="Table&nbsp;25.&nbsp;Resequence Properties">Table&nbsp;25</a> describes the properties you can specify 
    using the properties editor.</p><div class="table"><a name="RiderResequenceRefTbl1"></a><p class="title"><b>Table&nbsp;25.&nbsp;Resequence Properties</b></p><div class="table-contents"><table summary="Resequence Properties" width="100%" border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><span class="property">Expression</span></td><td>Specifies the expression used to resequence the messages.</td></tr><tr><td><span class="property">language</span></td><td>Specifies the expression language used to process the expression.</td></tr><tr><td><span class="property">Resequencer Config</span></td><td>
              <p>Specifies the configuration for the resequencer:</p>
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">batch-config</span>&#8212;configures batch processing
                    mode</p></li><li class="listitem"><p><span class="guilabel">stream-config</span>&#8212;configures stream processing
                    mode</p></li></ul></div>
              <p>Configure only one mode.</p>
            </td></tr><tr><td><span class="property">Inherit Error Handler</span></td><td>Specifies whether the node should use the error handler configured for the route.
                    The default is <em class="replaceable"><code>Disabled</code></em>.</td></tr><tr><td><span class="property">Id</span></td><td>Specifies a unique identifier for the endpoint. The Id can be used to refer to
              the endpoint in the Camel XML file.</td></tr><tr><td><span class="property">Description</span></td><td>Specifies a text description for the node. This description is included in the
              generated XML file, but it is informational only. It is not used by Apache Camel.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e17579"></a><h2>batch-config configuration</h2><p><a class="xref" href="resequence.html#batchCfgRefTbl1" title="Table&nbsp;26.&nbsp;batch-config Properties">Table&nbsp;26, &#8220;batch-config Properties&#8221;</a> describes the properties you can specify 
      using the properties editor.</p><div class="table"><a name="batchCfgRefTbl1"></a><p class="title"><b>Table&nbsp;26.&nbsp;batch-config Properties</b></p><div class="table-contents"><table summary="batch-config Properties" width="100%" border="1"><colgroup><col width="25%" class="c1"><col width="75%" class="c2"></colgroup><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><span class="property">Batch Size</span></td><td>Specifies the number of messages to include in the batch. The default is
              <em class="replaceable"><code>100</code></em>.</td></tr><tr><td><span class="property">Batch Timeout</span></td><td>Specifies the amount of time, in milliseconds, the node will attempt to batch up
              the messages before timing out. The default is <em class="replaceable"><code>1000</code></em>.</td></tr><tr><td><span class="property">Ignore Invalid Exchanges</span></td><td>Specifies whether the resequencer ignores invalid exchanges, those for which it
              cannot evaluate the specified expression. The default is
                <em class="replaceable"><code>Disabled</code></em>, which results in the resequencer throwing a
              <code class="code">CamelExchangeException</code> when it encounters an invalid exchange.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e17628"></a><h2>stream-config configuration</h2><p><a class="xref" href="resequence.html#streamCfgRefTbl1" title="Table&nbsp;27.&nbsp;stream-config Properties">Table&nbsp;27, &#8220;stream-config Properties&#8221;</a> describes the properties you can specify 
      using the properties editor.</p><div class="table"><a name="streamCfgRefTbl1"></a><p class="title"><b>Table&nbsp;27.&nbsp;stream-config Properties</b></p><div class="table-contents"><table summary="stream-config Properties" width="100%" border="1"><colgroup><col width="24%" class="c1"><col width="76%" class="c2"></colgroup><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><span class="property">Capacity</span></td><td><p>Specifies the maximum number of messages that can be stored in the node's memory while it
                waits to receive  out-of-sequence messages.</p>
              <p>This property is used to prevent the node from running out of memory when it
                detects gaps in the message stream. In general, when using a large timeout value,
                set the capacity value sufficiently high to accommodate it (for example,
                  <code class="code">&lt;stream-config capacity="5000" timeout="4000" /&gt;</code>).</p>
              <p>The default is <em class="replaceable"><code>1000</code></em>.</p>
            </td></tr><tr><td><span class="property">Ignore Invalid Exchanges</span></td><td>Specifies whether the resequencer ignores invalid exchanges, those for which it
              cannot evaluate the specified expression. The default is
                <em class="replaceable"><code>Disabled</code></em>, which results in the resequencer throwing a
              <code class="code">CamelExchangeException</code> when it encounters an invalid exchange.</td></tr><tr><td><span class="property">Timeout</span></td><td><p>Specifies the amount of time, in milliseconds, the node will wait to receive an
              out-of-sequence message before timing out.</p>
              <p>If you know the max time difference between successive messages in the stream,
                set the timeout to that value. Doing so guarantees that all messages in the stream
                will be delivered in the correct order to the next node in the route. The lower the
                timeout value compared to the out-of-sequence time difference, the greater the
                probability of out-of-sequence message delivery. </p>
              <p>The default is <em class="replaceable"><code>1000</code></em>.</p></td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e17695"></a><h2>Related topics</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><a href="PLUGINS_ROOT/com.fusesource.rider.help/RiderExLang.html" class="olink">Expression and Predicates Languages</a></td></tr><tr><td><a href="PLUGINS_ROOT/com.fusesource.rider.help/RiderEditPrefs.html" class="olink">Configuring the route editor</a></td></tr></table></div></div></body></html>
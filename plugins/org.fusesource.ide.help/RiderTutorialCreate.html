<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>To Create a New Route</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="description" content="This tutorial walks you through the process of creating a new Fuse project, adding a route to it, and adding two endpoints to the route. It assumes that you have already set up your workspace and that Red Hat JBoss Fuse Tooling is running inside Red Hat JBoss Developer Studio."><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderTutorials.html" title="Tutorials"><link rel="prev" href="RiderTutorials.html" title="Tutorials"><link rel="next" href="RiderTutorialRun.html" title="To Run a Route"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="RiderTutorialCreate"></a>To Create a New Route</h1></div><div><div class="abstract"><p>This tutorial walks you through the process of creating a new
                Fuse project, adding a route to it, and adding two endpoints to
                the route. It assumes that you have already set up your
                workspace <span class="phrase">and that Red Hat JBoss
                    Fuse Tooling is running inside Red Hat JBoss Developer
                    Studio</span>.</p></div></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12023"></a>Goals</h2></div></div></div><p>In this tutorial you will:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>create a routing project</p></li><li class="listitem"><p>add endpoints to a route</p></li><li class="listitem"><p>connect two endpoints</p></li><li class="listitem"><p>configure the endpoints</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderTutorialCreateCamel"></a>Creating the Fuse project</h2></div></div></div><p>To create a Fuse project:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open the <span class="phrase">JBoss
                        perspective</span>.</p><p>This is the default perspective when you start up <span class="phrase">JBoss Developer Studio for the
                        first time</span>. </p></li><li class="step"><p>On the Toolbar, select <span class="guimenu">File</span> &gt; <span class="guisubmenu">New</span> &gt; <span class="guimenuitem">Fuse Project</span> to open the <span class="guilabel">New Fuse
                        project</span> wizard, as shown in <a class="xref" href="RiderTutorialCreate.html#NewFuseProject" title="Figure&nbsp;1.&nbsp;New Fuse project location page">Figure&nbsp;1, &#8220;New Fuse project location page&#8221;</a>.</p><div class="figure"><a name="NewFuseProject"></a><p class="title"><b>Figure&nbsp;1.&nbsp;New Fuse project location page</b></p><div class="figure-contents"><div class="mediaobject" align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="540"><tr><td align="center"><img src="images/newFuseProjWS.png" align="middle" width="540" alt="select workspace"></td></tr></table></div></div></div><br class="figure-break"></li><li class="step"><p>Click <span class="guibutton">Next&gt;</span> to open the
                        <span class="guilabel">New Fuse Project</span> details page, as
                    shown in <a class="xref" href="RiderTutorialCreate.html#RiderTutorialCreateProjFig030" title="Figure&nbsp;2.&nbsp;New Fuse project details page">Figure&nbsp;2, &#8220;New Fuse project details page&#8221;</a>.</p><div class="figure"><a name="RiderTutorialCreateProjFig030"></a><p class="title"><b>Figure&nbsp;2.&nbsp;New Fuse project details page</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/SimpleRouteProj.png" align="middle" alt="details of the project"></div></div></div><br class="figure-break"></li><li class="step"><p>Select <code class="literal">camel-archetype-spring</code>.</p></li><li class="step"><p>Enter <strong class="userinput"><code>tutorial</code></strong> in the
                        <span class="guilabel">Group Id:</span> field.</p></li><li class="step"><p>Enter <strong class="userinput"><code>simple-route</code></strong> in the
                        <span class="guilabel">Artifact Id:</span> field.</p></li><li class="step"><p>The <span class="guilabel">Version:</span> field defaults to
                        <code class="filename">1.0.0-SNAPSHOT</code>. To change it, enter
                    a different version identifier. </p></li><li class="step"><p>The <span class="guilabel">Package:</span> field defaults to
                        <code class="filename">tutorial.simple.route</code>, the name of
                    the package that contains
                        <code class="filename">camel-archetype-spring</code>. To include
                    the route in a different package, enter the name of that
                    package. </p></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><p>This procedure creates a Fuse project,
                        <code class="filename">simple-route</code>, in <span class="guilabel">Project
                        Explorer</span> that contains everything needed to
                    create and run routes. As shown in <a class="xref" href="RiderTutorialCreate.html#RiderTutorialNewProjFiles" title="Figure&nbsp;3.&nbsp;Generated project files">Figure&nbsp;3</a>, the files generated
                    for <code class="filename">simple-route</code> include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">simple-route/pom.xml</code> (Maven
                            project file)</p></li><li class="listitem"><p><code class="filename">simple-route/src/main/resources/META-INF/spring/camel-context.xml</code>
                            (Spring XML file containing the routing
                            rules)</p><div class="figure"><a name="RiderTutorialNewProjFiles"></a><p class="title"><b>Figure&nbsp;3.&nbsp;Generated project files</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tutProjExplorer.png" align="middle" width="147.4" alt="generated camelContext.xml and pom.xml files"></div></div></div><br class="figure-break"></li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12191"></a>Creating the route</h2></div></div></div><p>To create the new route:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, locate
                        <code class="filename">simple-route/src/main/resources/META-INF/spring/camel-context.xml</code>.</p></li><li class="step"><p>Right-click it to open the context menu, then select
                        <span class="guilabel">Delete</span>.</p><p>You're going to replace the old
                        <code class="filename">camel-context.xml</code> file with your
                    own to create a new route.</p></li><li class="step"><p>In the <span class="guilabel">Delete</span> dialog, click
                        <span class="guilabel">OK</span> to confirm the operation.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, select
                        <code class="filename">simple-route/src/main/resources/META-INF/spring</code>.</p></li><li class="step"><p>Right-click it to open the context menu.</p></li><li class="step"><p>Select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Camel XML File</span> to open the <span class="guilabel">Camel XML
                        File</span> wizard, as shown in <a class="xref" href="RiderTutorialCreate.html#RiderTutorialCreateFig010" title="Figure&nbsp;4.&nbsp;Camel XML File wizard">Figure&nbsp;4</a>.</p><div class="figure"><a name="RiderTutorialCreateFig010"></a><p class="title"><b>Figure&nbsp;4.&nbsp;Camel XML File wizard</b></p><div class="figure-contents"><div class="mediaobject" align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="540"><tr><td align="center"><img src="images/NewCamXMLfileTut.png" align="middle" width="540" alt="New route file wizard"></td></tr></table></div></div></div><br class="figure-break"></li><li class="step"><p>Check that
                        <strong class="userinput"><code>/simple-route/src/main/resources/META-INF/spring</code></strong>
                    appears in the <span class="guilabel">Container:</span> field.
                    Otherwise enter it manually, or select it using the <span class="inlinemediaobject"><img src="images/BrowseButton.jpg" alt="browse button"></span> button.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="inlinemediaobject"><img src="images/BrowseButton.jpg" alt="browse button"></span> button opens a dialog that displays
                        the folders of all active projects, which you can browse
                        to find and select the files you need. </p></td></tr></table></div></li><li class="step"><p>Check that <strong class="userinput"><code>camelContext.xml</code></strong> appears
                    in the <span class="guilabel">File Name:</span> field. Otherwise
                    enter it manually.</p></li><li class="step"><p>Check that <span class="guimenuitem">Spring</span> appears in
                    the <span class="guilabel">Framework</span> field, or select it from
                    the field's drop-down list.</p></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By default, <span class="guilabel">Outline</span> view is
                        located in the upper, right corner of the JBoss
                        perspective. To provide more room for
                            <span class="guilabel">Design</span> view to display the
                        graphical representation of your route, drag
                            <span class="guilabel">Outline</span> view to the lower, left
                        corner of the workspace, below <span class="guilabel">Project
                            Explorer</span>. </p></td></tr></table></div></li><li class="step"><p>Click the <span class="guilabel">Source</span> tab at the bottom,
                    left of the canvas to open the new
                        <code class="filename">camelContext.xml</code> file in the route
                    editor's Source view, as shown in <a class="xref" href="RiderTutorialCreate.html#RiderTutorial1Img060" title="Figure&nbsp;5.&nbsp;New camelContext file in the route editor's source view">Figure&nbsp;5, &#8220;New camelContext file in the route editor's source
                        view&#8221;</a>.</p><div class="figure"><a name="RiderTutorial1Img060"></a><p class="title"><b>Figure&nbsp;5.&nbsp;New camelContext file in the route editor's source
                        view</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/NewCCfileSourceTut.png" align="middle" width="653.25" alt="New Camel route displayed in route editor's source view"></div></div></div><br class="figure-break"></li><li class="step"><p>Click the <span class="guilabel">Design</span> tab at the bottom,
                    left of the canvas to return to the route editor's Design
                    view.</p></li><li class="step"><p>Drag an <span class="guilabel">Endpoint</span> element (<span class="inlinemediaobject"><img src="images/EndptElement.jpg" alt="endpoint icon"></span>) from the <span class="guilabel">Palette</span>
                    to the canvas.</p></li><li class="step"><p>Drag a second <span class="guilabel">Endpoint</span> element from
                    the <span class="guilabel">Palette</span> to the canvas.</p></li><li class="step"><p>Select the first endpoint you dragged onto the
                    canvas.</p><p>The <span class="guilabel">Properties</span> editor, located below
                    the canvas, displays the endpoint's property fields for
                    editing, as shown in <a class="xref" href="RiderTutorialCreate.html#RiderTutorial1Img070" title="Figure&nbsp;6.&nbsp;Endpoint property editor">Figure&nbsp;6, &#8220;Endpoint property editor&#8221;</a>.</p><div class="figure"><a name="RiderTutorial1Img070"></a><p class="title"><b>Figure&nbsp;6.&nbsp;Endpoint property editor</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/EndptPropsTut.png" align="middle" width="585.9000000000001" alt="endpoint property editor w/ uri field set to file:src/data?noop=true"></div></div></div><br class="figure-break"></li><li class="step"><p>Enter <strong class="userinput"><code>file:src/data?noop=true</code></strong> in
                    the <span class="guilabel">Uri</span> field. Leave the other fields
                    blank.</p></li><li class="step"><p>Select the second endpoint you dragged onto the
                    canvas.</p></li><li class="step"><p>Enter <strong class="userinput"><code>file:target/messages/others</code></strong>
                    in the <span class="guilabel">Uri</span> field. Leave the other
                    fields blank.</p></li><li class="step"><p>On the canvas, select the first endpoint
                        (<strong class="userinput"><code>file:src/data?noop=true</code></strong>), and
                    drag it's connector arrow (<span class="inlinemediaobject"><img src="images/ConnectorArrow.jpg" width="16.799999999999997" alt="connector arrow icon"></span>) to the second endpoint
                        (<strong class="userinput"><code>file:target/messages/others</code></strong>),
                    then release it.</p><p>A segmented line connects the two endpoints, as shown in
                        <a class="xref" href="RiderTutorialCreate.html#RiderTutorial1ImgFinal" title="Figure&nbsp;7.&nbsp;Completed route, diagram view">Figure&nbsp;7</a>.</p><div class="figure"><a name="RiderTutorial1ImgFinal"></a><p class="title"><b>Figure&nbsp;7.&nbsp;Completed route, diagram view</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/CompletedRoute1.jpg" align="middle" width="326.7" alt="connected endpoints displayed in the route editor's Diagram view"></div></div></div><br class="figure-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can drag the line's bendpoint (orange dot) to
                        change the angle of the line's segments. Doing so
                        creates two new bendpoints, one on either side of the
                        original. This behavior enables you to easily adjust
                        your diagram to accommodate increasingly complex
                        routes.</p></td></tr></table></div></li><li class="step"><p>To quickly align the connected endpoints, right-click the
                    canvas to open the context menu, and then select
                        <span class="guimenuitem">Layout Diagram</span>.</p></li><li class="step"><p>Select
                            <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span>
                    to save the route.</p></li><li class="step"><p>Click the <span class="guilabel">Source</span> tab at bottom, left
                    of the canvas.</p><p><span class="guilabel">Source</span> view displays the XML for the
                    route. The <code class="sgmltag-element">camelContext</code> element
                    will look like <a class="xref" href="RiderTutorialCreate.html#CreateRouteEx010" title="Example&nbsp;1.&nbsp;XML for simple route">Example&nbsp;1</a>.</p><div class="example"><a name="CreateRouteEx010"></a><p class="title"><b>Example&nbsp;1.&nbsp;XML for simple route</b></p><div class="example-contents"><pre class="programlisting"><span xmlns="http://www.w3.org/1999/xhtml" class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;beans</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">xmlns</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"http://www.springframework.org/schema/beans"</span>
       <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">xmlns:camel</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"http://camel.apache.org/schema/spring"</span>
       <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">xmlns:xsi</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">xsi:schemaLocation</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://camel.apache.org/schema/spring 
        http://camel.apache.org/schema/spring/camel-spring.xsd"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>

  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;camelContext</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">trace</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"false"</span> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">xmlns</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"http://camel.apache.org/schema/spring"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
        <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"file:src/data?noop=true"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
        <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"file:target/messages/others"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/camelContext&gt;</strong>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/beans&gt;</strong></pre></div></div><br class="example-break"></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12487"></a>Next steps</h2></div></div></div><p>After you have created and designed your route, you can run it by
            deploying it into your Apache Camel runtime, as described in <a class="xref" href="RiderTutorialRun.html" title="To Run a Route"><i>To Run a Route</i></a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e12494"></a>Further reading</h2></div></div></div><p>To learn more about:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>using the editor, see <span class="italic">Red Hat
                        JBoss Fuse Tooling: JBoss Fuse Tooling User
                        Guide</span> at <a class="link" href="https://access.redhat.com/site/documentation/JBoss_Fuse/" target="_top">https://access.redhat.com/site/documentation/JBoss_Fuse/</a></p></li><li class="listitem"><p>Apache Camel endpoints, see <em class="citetitle">Red Hat JBoss Fuse:
                        Component Reference</em> that comes with Red Hat
                    JBoss Fuse.</p></li></ul></div></div></div></body></html>
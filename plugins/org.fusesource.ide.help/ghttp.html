<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>GHTTP</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="gae.html" title="Google App Engine Endpoints"><link rel="prev" href="gauth.html" title="GAuth"><link rel="next" href="glogin.html" title="GLogin"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="ghttp"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>GHTTP &#8212; provides connectivity to the GAE URL fetch service but can also be used to receive messages from servlets</p></div><div class="refsection"><a name="d0e33919"></a><h2>Overview</h2><p>The <code class="literal">ghttp</code> component provides connectivity to the GAE 
      <a class="link" href="http://code.google.com/appengine/docs/java/urlfetch/" target="_top">URL fetch 
      service</a> but can also be used to receive messages from servlets. This is achieved by 
      extending the <a href="PLUGINS_ROOT/com.fusesource.rider.help/servlet.html" class="olink">Servlet component</a>. As a consequence, 
      GHTTP URI formats and options sets differ on the consumer-side (<code class="literal">from</code>) and 
      producer-side (<code class="literal">to</code>).</p></div><div class="refsection"><a name="d0e33939"></a><h2>URI format</h2><p>GHTTP endpoints can use the following URI formates:</p><div class="informaltable"><table width="100%" border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th>Format</th><th>Context</th><th>Comment</th></tr></thead><tbody><tr><td>
              <code class="code">ghttp:///<em class="replaceable"><code>path</code></em>[?<em class="replaceable"><code>options</code></em>]</code>
            </td><td>Consumer</td><td>See also <a href="PLUGINS_ROOT/com.fusesource.rider.help/servlet.html" class="olink">Servlet component</a></td></tr><tr><td>
              <code class="code">ghttp://<em class="replaceable"><code>hostname</code></em>[:<em class="replaceable"><code>port</code></em>][/<em class="replaceable"><code>path</code></em>][?<em class="replaceable"><code>options</code></em>]</code>
            </td><td>Producer</td><td>See also <a href="PLUGINS_ROOT/com.fusesource.rider.help/http.html" class="olink">HTTP</a></td></tr><tr><td>
              <code class="code">ghttps://<em class="replaceable"><code>hostname</code></em>[:<em class="replaceable"><code>port</code></em>][/<em class="replaceable"><code>path</code></em>][?<em class="replaceable"><code>options</code></em>]</code>
            </td><td>Producer</td><td>See also <a href="PLUGINS_ROOT/com.fusesource.rider.help/http.html" class="olink">HTTP</a></td></tr></tbody></table></div></div><div class="refsection"><a name="d0e34019"></a><h2>Dependencies</h2><p>Maven users will need to add a dependency on <code class="code">camel-gae</code> to their poms as 
      shown in <a class="xref" href="ghttp.html#GHTTPRefDepEx" title="Example&nbsp;4.&nbsp;GHTTP dependency">Example&nbsp;4, &#8220;GHTTP dependency&#8221;</a>.</p><div class="example"><a name="GHTTPRefDepEx"></a><p class="title"><b>Example&nbsp;4.&nbsp;GHTTP dependency</b></p><div class="example-contents"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-gae<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre></div></div><br class="example-break"></div><div class="refsection"><a name="d0e34034"></a><h2>Options</h2><p><a class="xref" href="ghttp.html#GHTTPRefOptsTbl" title="Table&nbsp;19.&nbsp;GHTTP options">Table&nbsp;19, &#8220;GHTTP options&#8221;</a> lists the options for a GHTTP endpoint.</p><div class="table"><a name="GHTTPRefOptsTbl"></a><p class="title"><b>Table&nbsp;19.&nbsp;GHTTP options</b></p><div class="table-contents"><table summary="GHTTP options" width="100%" border="1"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr><th>Name</th><th>Default</th><th>Context</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">bridgeEndpoint</code></td><td><code class="code">true</code></td><td>Producer</td><td>Specifies if the <code class="literal">Exchange.HTTP_URI</code> header is ignored.</td></tr><tr><td><code class="code">throwExceptionOnFailure</code></td><td><code class="code">true</code></td><td>Producer</td><td>Specifies if a 
              <code class="exceptionname">org.apache.camel.component.gae.http</code> is thrown when 
              the response code is &gt;= 400.</td></tr><tr><td><code class="code">inboundBindingRef</code></td><td>&nbsp;</td><td>Consumer</td><td>Specifies a reference to an 
              <code class="code">InboundBinding&lt;GHttpEndpoint, HttpServletRequest, HttpServletResponse&gt;</code> 
              in the registry for customizing the binding of an exchange to the Servlet API. The 
              referenced binding is used as post-processor to 
              <code class="code">org.apache.camel.component.http.HttpBinding</code>.</td></tr><tr><td><code class="code">outboundBindingRef</code></td><td>&nbsp;</td><td>Producer</td><td>Specifies a reference to an 
              <code class="code">InboundBinding&lt;GHttpEndpoint, HttpServletRequest, HttpServletResponse&gt;</code> 
              in the registry for customizing the binding of an exchange to the 
              <code class="literal">URLFetchService</code>.</td></tr></tbody></table></div></div><br class="table-break"><p>On the consumer-side, all options of the 
      <a href="PLUGINS_ROOT/com.fusesource.rider.help/servlet.html" class="olink">Servlet endpoint</a> are 
      supported.</p></div><div class="refsection"><a name="d0e34118"></a><h2>Message headers</h2><p>On the producer side, the following headers of the 
      <a href="PLUGINS_ROOT/com.fusesource.rider.help/http.html" class="olink">HTTP endpoint</a> are 
      supported.</p><div class="informaltable"><table width="100%" border="1"><colgroup><col width="27%" class="c1"><col width="11%" class="c2"><col width="62%" class="c3"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">Content-Type</code></td><td><code class="code">String</code></td><td>Specifies the HTTP content type. This header is populated on both the IN and 
            OUT message to provide a content type.</td></tr><tr><td><code class="code">Content-Encoding</code></td><td><code class="code">String</code></td><td>Specifies the HTTP content encoding. This header is populated on both the IN 
            and OUT message to provide a content encoding.</td></tr><tr><td><code class="code">CamelHttpMethod</code></td><td><code class="code">String</code></td><td>Specifies the HTTP method to execute. Can be one of 
              <code class="literal">GET</code>, <code class="literal">POST</code>, <code class="literal">PUT</code> or 
              <code class="literal">DELETE</code>. If not set, <code class="literal">POST</code> will be used if 
              the message body is not <code class="literal">null</code>, <code class="literal">GET</code> 
              otherwise.</td></tr><tr><td><code class="code">CamelHttpQuery</code></td><td><code class="code">String</code></td><td>Overrides the query part of the endpoint URI or 
              <code class="code">HTTP_URI</code>. The query string must be in decoded form.</td></tr><tr><td><code class="code">CamelHttpUri</code></td><td><code class="code">String</code></td><td>Overrides the default endpoint URI if the <code class="code">bridgeEndpoint</code> option is 
              set to <code class="code">false</code>. The URI string must be in decoded form.</td></tr><tr><td><code class="code">CamelHttpResponseCode</code></td><td><code class="code">int</code></td><td>Specifies the HTTP response code from URL fetch service responses.</td></tr></tbody></table></div><p>On the consumer-side all headers of the 
      <a href="PLUGINS_ROOT/com.fusesource.rider.help/servlet.html" class="olink">Servlet component</a> headers 
      are supported.</p></div><div class="refsection"><a name="d0e34229"></a><h2>Message body</h2><p>On the producer side the <code class="literal">in</code> message body is converted to a
      <code class="literal">byte[]</code>. The <code class="literal">out</code> message body is made available as
      <code class="literal">InputStream</code>. If the reponse size exceeds 1 megabyte a <a class="link" href="http://code.google.com/appengine/docs/java/javadoc/" target="_top">ResponseTooLargeException</a> is thrown by the URL fetch service (see <a class="link" href="http://code.google.com/appengine/docs/java/urlfetch/overview.html#Quotas_and_Limits" target="_top">quotas and limits</a>).</p></div><div class="refsection"><a name="d0e34252"></a><h2>Related topics</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><a href="PLUGINS_ROOT/com.fusesource.rider.help/http.html" class="olink">HTTP</a></td></tr><tr><td><a href="PLUGINS_ROOT/com.fusesource.rider.help/servlet.html" class="olink">Servlet</a></td></tr><tr><td><a class="link" href="http://code.google.com/appengine/docs/java/urlfetch/" target="_top">GAE URL fetch 
      service</a></td></tr></table></div></div></body></html>
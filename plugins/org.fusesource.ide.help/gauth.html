<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>GAuth</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="gae.html" title="Google App Engine Endpoints"><link rel="prev" href="gae.html" title="Google App Engine Endpoints"><link rel="next" href="ghttp.html" title="GHTTP"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="gauth"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>GAuth &#8212; implement a Google-specific OAuth consumer</p></div><div class="refsection"><a name="d0e34176"></a><h2>Overview</h2><p>The GAuth component is used by web applications to implement a <a class="link" href="http://code.google.com/apis/accounts/docs/OAuth.html" target="_top">Google-specific OAuth</a>
      consumer. Although this component belongs to the Camel Components for 
      Google App Engine (GAE), it can also be used to OAuth-enable non-GAE web 
      applications. For a detailed description of Google's OAuth implementation refer to the Google 
      <a class="link" href="http://code.google.com/apis/accounts/docs/OAuth_ref.html" target="_top">OAuth API
        reference</a>.</p></div><div class="refsection"><a name="d0e34187"></a><h2>URI format</h2><p>The URI format for a GAuth endpoint is:</p><pre class="programlisting">gauth://<em class="replaceable"><code>name</code></em>[?<em class="replaceable"><code>options</code></em>]</pre><p><em class="replaceable"><code>name</code></em> can be either <code class="literal">authorize</code> or
        <code class="literal">upgrade</code>. An <code class="literal">authorize</code> endpoint is used to obtain an
      unauthorized request token from Google and to redirect the user to the authorization page. The
        <code class="literal">upgrade</code> endpoint is used to process OAuth callbacks from Google and to
        upgrade an authorized request token to a long-lived access token.</p></div><div class="refsection"><a name="d0e34216"></a><h2>Dependencies</h2><p>Maven users will need to add a dependency on <code class="code">camel-gae</code> to their poms as 
      shown in <a class="xref" href="gauth.html#GAuthRefDepEx" title="Example&nbsp;3.&nbsp;GAuth dependency">Example&nbsp;3, &#8220;GAuth dependency&#8221;</a>.</p><div class="example"><a name="GAuthRefDepEx"></a><p class="title"><b>Example&nbsp;3.&nbsp;GAuth dependency</b></p><div class="example-contents"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-gae<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre></div></div><br class="example-break"></div><div class="refsection"><a name="d0e34231"></a><h2>Options</h2><p><a class="xref" href="gauth.html#GAuthEndPtOptsTbl" title="Table&nbsp;18.&nbsp;GAuth options">Table&nbsp;18, &#8220;GAuth options&#8221;</a> lists the options for a GAuth endpoint.</p><div class="table"><a name="GAuthEndPtOptsTbl"></a><p class="title"><b>Table&nbsp;18.&nbsp;GAuth options</b></p><div class="table-contents"><table summary="GAuth options" width="100%" border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th>Name</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">callback</code></td><td><code class="code">true</code>
              <a href="#ftn.d0e34258" class="footnote"><sup class="footnote"><a name="d0e34258"></a>[a]</sup></a></td><td>Specifies the URL to where users are redirected after having granted or denied 
            access.</td></tr><tr><td><code class="code">scope</code></td><td><code class="code">true</code>
              <a href="#ftn.d0e34274" class="footnote"><sup class="footnote"><a name="d0e34274"></a>[b]</sup></a>
            </td><td>Specifies the URL identifying the service(s) to be accessed. To specify more 
            than one scope, list each one separated with a comma.</td></tr><tr><td><code class="code">consumerKey</code></td><td><code class="code">true</code>
              <a href="#ftn.GAuthFN010" class="footnote"><sup class="footnote"><a name="GAuthFN010"></a>[c]</sup></a>
            </td><td>Specifies the domain identifying the web application. This is the domain used 
              when registering the application with Google. For a non-registered application use 
              <code class="literal">anonymous</code>.</td></tr><tr><td><code class="code">consumerSecret</code></td><td>if <code class="code">keyLoaderRef</code> is not 
              specified<a href="gauth.html#ftn.GAuthFN010" class="footnoteref"><sup class="footnoteref">[c]</sup></a></td><td>Specifies the consumer secret of the web application. The consumer secret is 
              generated when registering the application with Google. It is needed if the 
              HMAC-SHA1 signature method shall be used. For a non-registered application use 
              <code class="literal">anonymous</code>.</td></tr><tr><td><code class="code">keyLoaderRef</code></td><td>if <code class="code">consumerSecret</code> is not 
              specified<a href="gauth.html#ftn.GAuthFN010" class="footnoteref"><sup class="footnoteref">[c]</sup></a></td><td>
              <p>Specifies a reference to a private key loader in the registry.</p>
              <p>The <code class="code">camel-gae</code> module contains two key loaders:</p>
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">GAuthPk8Loader</code>&#8212;loads a private key from a PKCS#8 
                  file</p></li><li class="listitem"><p><code class="code">GAuthJksLoader</code>&#8212;loads a private key from a Java key 
                  store. It is needed if the RSA-SHA1 signature method shall be used.</p></li></ul></div>
              <p>These classes are defined in the 
                <span class="package">org.apache.camel.component.gae.auth</span> package.</p>
            </td></tr><tr><td><code class="code">authorizeBindingRef</code></td><td><code class="code">false</code></td><td>Specifies a reference to a 
              <code class="code">OutboundBinding&lt;GAuthEndpoint, GoogleOAuthParameters, GoogleOAuthParameters&gt;</code> 
              in the registry for customizing how an exchange is bound to 
              <code class="code">GoogleOAuthParameters</code>. This binding is used for the authorization 
              phase.</td></tr><tr><td><code class="code">upgradeBindingRef</code></td><td><code class="code">false</code></td><td>Specifies a reference to a 
              <code class="code">OutboundBinding&lt;GAuthEndpoint, GoogleOAuthParameters, GoogleOAuthParameters&gt;</code> 
              in the registry for customizing how an exchange is bound to 
              <code class="code">GoogleOAuthParameters</code>. This binding is used for the token upgrade 
              phase.</td></tr></tbody><tbody class="footnotes"><tr><td colspan="3"><div id="ftn.d0e34258" class="footnote"><p><a href="#d0e34258" class="para"><sup class="para">[a] </sup></a>can alternatively be set via the 
                  <code class="literal">GAuthAuthorizeBinding.GAUTH_CALLBACK</code> message header</p></div><div id="ftn.d0e34274" class="footnote"><p><a href="#d0e34274" class="para"><sup class="para">[b] </sup></a>can alternatively be set via <code class="code">GAuthAuthorizeBinding.GAUTH_SCOPE</code> 
                message header</p></div><div id="ftn.GAuthFN010" class="footnote"><p><a href="#GAuthFN010" class="para"><sup class="para">[c] </sup></a>can alternatively be set on component-level</p></div></td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e34384"></a><h2>Message headers</h2><p>The following message headers can be used to affect the behavior of the component:</p><div class="informaltable"><table width="100%" border="1"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr><th>Name</th><th>Endpoint</th><th>Message</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">GAuthAuthorizeBinding.GAUTH_CALLBACK</code></td><td><code class="code">gauth:authorize</code></td><td>IN</td><td>Overrides the <code class="code">callback</code> option.</td></tr><tr><td><code class="code">GAuthAuthorizeBinding.GAUTH_SCOPE</code></td><td><code class="code">gauth:authorize</code></td><td>IN</td><td>Overrides the <code class="code">scope</code> option.</td></tr><tr><td><code class="code">GAuthUpgradeBinding.GAUTH_ACCESS_TOKEN</code></td><td><code class="code">gauth:upgrade</code></td><td>OUT</td><td>Contains the long-lived access token. This token should be stored by the 
            applications in context of a user.</td></tr><tr><td><code class="code">GAuthUpgradeBinding.GAUTH_ACCESS_TOKEN_SECRET</code></td><td><code class="code">gauth:upgrade</code></td><td>OUT</td><td>Contains the access token secret. This token secret should be stored by the 
            applications in context of a user.</td></tr></tbody></table></div></div><div class="refsection"><a name="d0e34452"></a><h2>Related topics</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="link" href="http://code.google.com/apis/accounts/docs/OAuth.html" target="_top">Google-specific OAuth</a></td></tr></table></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>OGNL expressions</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="simpleLang.html" title="The Simple Language"><link rel="prev" href="simpleBasic.html" title="Basic syntax"><link rel="next" href="SimplePredicates.html" title="Predicates"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="simpleOGNL"></a>OGNL expressions</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11058"></a>Overview</h3></div></div></div><p>The <a class="link" href="http://www.opensymphony.com/ognl/" target="_top">Object Graph Navigation
                    Language</a> (OGNL) is a notation for invoking bean methods in a chain-like
                fashion. If a message body contains a Java bean, you can easily access its bean
                properties using OGNL notation. For example, if the message body is a Java object
                with a <code class="code">getAddress()</code> accessor, you can access the <code class="code">Address</code>
                object and the <code class="code">Address</code> object's properties as follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.street}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.zip}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.city}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>Where the notation, <code class="code">${body.address.street}</code>, is shorthand for
                    <code class="code">${body.getAddress.getStreet}</code>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11087"></a>OGNL null-safe operator</h3></div></div></div><p>You can use the null-safe operator, <code class="code">?.</code>, to avoid encountering
                null-pointer exceptions, in case the body does <span class="emphasis"><em>not</em></span> have an
                address. For example:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body?.address?.street}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>If the body is a <code class="code">java.util.Map</code> type, you can look up a value in the
                map with the key, <code class="code">foo</code>, using the following notation:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>simple("${body[foo]?.name}")<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11114"></a>OGNL list element access</h3></div></div></div><p>You can also use square brackets notation, <code class="code">[k]</code>, to access the
                elements of a list. For example:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.lines[0]}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.lines[1]}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.lines[2]}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>The <code class="code">last</code> keyword returns the index of the last element of a list. For
                example, you can access the <span class="emphasis"><em>second last</em></span> element of a list, as
                follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${body.address.lines[last-1]}<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Predicates</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="simpleLang.html" title="The Simple Language"><link rel="prev" href="simpleOGNL.html" title="OGNL expressions"><link rel="next" href="SQL.html" title="SQL"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="SimplePredicates"></a>Predicates</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11141"></a>Overview</h3></div></div></div><p>You can construct predicates by testing expressions for equality. For example, the
                predicate, <code class="literal">simple("${header.timeOfDay} == '14:30'")</code>, tests
                whether the <code class="literal">timeOfDay</code> header in the incoming message is equal to
                    <code class="literal">14:30</code>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11155"></a>Syntax</h3></div></div></div><p>You can also test various parts of an exchange (headers, message body, and so on)
                using simple predicates. Simple predicates have the following general syntax:</p><div class="informalexample"><pre class="programlisting">${<em class="replaceable"><code>LHSVariable</code></em>} <em class="replaceable"><code>Op</code></em> <em class="replaceable"><code>RHSValue</code></em></pre></div><p>Where the variable on the left hand side, <em class="replaceable"><code>LHSVariable</code></em>, is one
        of the variables shown in <a class="xref" href="simpleBasic.html#FMRS.Dsl.TableVSL" title="Table&nbsp;10.&nbsp;Simple language variable">Table&nbsp;10, &#8220;Simple language variable&#8221;</a> and the value on the right
        hand side, <em class="replaceable"><code>RHSValue</code></em>, is one of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Another variable,
                            <code class="code">${</code><em class="replaceable"><code>RHSVariable</code></em><code class="code">}</code>.</p></li><li class="listitem"><p>A string literal, enclosed in single quotes, <code class="code">' '</code>.</p></li><li class="listitem"><p>A string literal, <span class="emphasis"><em>not</em></span> enclosed in quotes (no spaces
                        allowed).</p></li><li class="listitem"><p>A numeric constant.</p></li><li class="listitem"><p>The null object, <code class="code">null</code>.</p></li></ul></div><p>The simple language always attempts to convert the RHS value to the type of the
                LHS value.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11216"></a>Operators</h3></div></div></div><p>The complete set of operators for simple language predicates is shown in <a class="xref" href="SimplePredicates.html#FMRS.Dsl.TableOSL" title="Table&nbsp;11.&nbsp;Simple language operators">Table&nbsp;11, &#8220;Simple language operators&#8221;</a>.</p><div class="table"><a name="FMRS.Dsl.TableOSL"></a><p class="title"><b>Table&nbsp;11.&nbsp;Simple language operators</b></p><div class="table-contents"><table summary="Simple language operators" border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">==</code></td><td>Equals.</td></tr><tr><td><code class="code">&gt;</code></td><td>Greater than.</td></tr><tr><td><code class="code">&gt;=</code></td><td>Greater than or equals.</td></tr><tr><td><code class="code">&lt;</code></td><td>Less than.</td></tr><tr><td><code class="code">&lt;=</code></td><td>Less than or equals.</td></tr><tr><td><code class="code">!=</code></td><td>Not equal to.</td></tr><tr><td><code class="code">contains</code></td><td>Test if LHS string contains RHS string.</td></tr><tr><td><code class="code">not contains</code></td><td>Test if LHS string does <span class="emphasis"><em>not</em></span> contain RHS string.</td></tr><tr><td><code class="code">regex</code></td><td>Test if LHS string matches RHS regular expression.</td></tr><tr><td><code class="code">not regex</code></td><td>Test if LHS string does <span class="emphasis"><em>not</em></span> match RHS regular
                expression.</td></tr><tr><td><code class="code">in</code></td><td>Test if LHS string appears in the RHS comma-separated list.</td></tr><tr><td><code class="code">not in</code></td><td>Test if LHS string does <span class="emphasis"><em>not</em></span> appear in the RHS
                comma-separated list.</td></tr><tr><td><code class="code">is</code></td><td>Test if LHS is an instance of RHS Java type (using Java <code class="code">instanceof</code>
                operator).</td></tr><tr><td><code class="code">not is</code></td><td>Test if LHS is <span class="emphasis"><em>not</em></span> an instance of RHS Java type (using
                Java <code class="code">instanceof</code> operator).</td></tr><tr><td><code class="code">range</code></td><td>Test if LHS number lies in the RHS range (where range has the format,
                  <em class="replaceable"><code>min</code></em><code class="code">...</code><em class="replaceable"><code>max</code></em>).</td></tr><tr><td><code class="code">not range</code></td><td>Test if LHS number does <span class="emphasis"><em>not</em></span> lie in the RHS
                                range (where range has the format,
                                    <em class="replaceable"><code>min</code></em><code class="code">...</code><em class="replaceable"><code>max</code></em>).</td></tr></tbody></table></div></div><br class="table-break"></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11365"></a>Examples</h3></div></div></div><p>For example, you can perform simple string comparisons and numerical comparisons
                as follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.user} == 'john'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- Quotes are optional here --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.user} == john<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.number} &gt; 100<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- String literal can be converted to integer --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.number} &gt; '100'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>You can test whether the left hand side is a member of a comma-separated list, as
        follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.type} not in 'gold,silver'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>You can test whether the left hand side matches a regular expression, as follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.number} regex '\d{4}'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>You can test the type of the left hand side using the <code class="code">is</code> operator, as
        follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.type} is 'java.lang.String'<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong>
<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- You can abbreviate java.lang. types --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.type} is String<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/langauge&gt;</strong></pre></div><p>You can test whether the left hand side lies in a specified numerical range, as
        follows:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>${in.header.number} range 100..199<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e11401"></a>Conjunctions</h3></div></div></div><p>You can also combine predicates using the logical conjunctions, <code class="code">and</code>
                and <code class="code">or</code>. But these conjunctions are currently subject to the restriction
                that a logical conjunction can appear only <span class="emphasis"><em>once</em></span> in a simple
                expression.</p><p>For example, here is an expression using the <code class="code">and</code> conjunction:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>
  ${in.header.title} contains 'Camel' and ${in.header.type} == 'gold'
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/language&gt;</strong></pre></div><p>And here is an expression using the <code class="code">or</code> conjunction:</p><div class="informalexample"><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;language</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">language</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"simple"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&gt;</strong>
  ${in.header.title} contains 'Camel' or ${in.header.type} == 'gold'
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/langauge&gt;</strong></pre></div></div></div></body></html>